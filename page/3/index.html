<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, Brick" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="工作实验室">
<meta property="og:url" content="http://labrick.github.io/page/3/index.html">
<meta property="og:site_name" content="工作实验室">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="工作实验室">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://labrick.github.io/page/3/"/>





  <title>工作实验室</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-65978647-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?88010fa72f93e593c7b92e8a4eb25e3b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">工作实验室</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">专注于自我心智成长</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            书籍
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'MDA2Yz6kTCszT2GimT9N','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/09/06/cmos-info/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/06/cmos-info/" itemprop="url">
                  CMOS存储的信息
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-06T14:49:50+08:00">
                2015-09-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux0-11相关/" itemprop="url" rel="index">
                    <span itemprop="name">linux0.11相关</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/09/06/cmos-info/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/09/06/cmos-info/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="CMOS信息">CMOS信息</h2><p>PC机的CMOS内存是由电池供电的64或128字节内存块，通常是系统实时钟芯片RTC(Real Time Chip)的一部分。有些机器还有更大的内存容量。该64字节的CMOS原先在IBM PC-XT机器上用于保存时钟和日期信息，存放的格式是BCD码。由于这些信息仅用去14字节，因此剩余的字节就可用来存放一些系统配置数据。</p>
<p>CMOS的地址空间在基本地址空间之外，因此其中不包括可执行代码。要访问它需要通过端口0x70、0x71进行。0x70是地址端口，0x71是数据端口。为了读取指定偏移位置的字节，必须首先使用OUT指令向地址端口0x70发送指定字节的偏移位置值，然后使用IN指令从数据端口0x71读取指定的字节信息。同样，对于写操作也需要首先向地址端口0x70发送指定字节的偏移值，然后把数据写到数据端口0x71中去。</p>
<p>main.c程序第70行语句把欲读取的字节地址与0x80进行或操作是没有必要的。因为那时的CMOS内存容量还没有超过128字节，因此与0x80进行或操作是没有任何作用的。之所以会有这样的操作是因为当时Linus手头缺乏有关CMOS方面的资料，CMOS中时钟和日期的偏移地址都是他逐步实验出来的，也许在他实验中将偏移地址与0x80进行或操作(并且还修改了其他地方)后正好取得了正确的结果，因此他的代码中也就有了这步不必要的操作。不过从1.0版本之后，该操作就被去除了(可参见1.0版内核程序drives/block/hd.c 42)。下表是CMOS内存信息的一张简表：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/cmos-info/cmos-info.png" alt="CMOS 64字节信息简表"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/09/04/where-are-we-going-Dad/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/09/04/where-are-we-going-Dad/" itemprop="url">
                  从爸爸去哪谈孩子的教育
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-04T10:39:19+08:00">
                2015-09-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/让生活更上一层楼/" itemprop="url" rel="index">
                    <span itemprop="name">让生活更上一层楼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/09/04/where-are-we-going-Dad/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/09/04/where-are-we-going-Dad/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="当今形势">当今形势</h2><p>辞职之后，我所关注的领域慢慢的多了起来，加上对书籍、博客、知乎周刊的专注阅读，对所关注的领域的理解慢慢的丰盈起来。生活中的一些事情总能触发我的进一步思考，这一年来纠结、困惑、无奈与惊喜并存，偶尔会出现顿悟的感觉。</p>
<p>对于小孩子的教育问题是我在一年前看到留守儿童的问题时关注的，对这方面有着很大的无奈。</p>
<p>人生百年看似短暂，时则长远，长远到让人忘记仅仅是前一两代人的经验教训，也有可能是必须选择忘记。二十年前的中国城镇居民大多忽略对小孩子的教育问题，他们考虑更多的是经济问题，对孩子的成长过程有着很大的忽略，而这个形势又同样在今天的乡村中普遍存在，中年父母一年四季基本处于在外漂泊状态，简单供给孩子吃喝，无暇顾及孩子的心理需求，更谈不上教育，这是一个起点问题。</p>
<h2 id="爸爸去哪儿">爸爸去哪儿</h2><p>我很少看综艺节目，甚至《爸爸去哪儿》我也只是看了几期，但是看的简单的那几期（三季8期）也很让我感动，感受到爸爸与儿子女儿的相处方式，心理交流。每个孩子都有自己的特色，自己的个性，都是独特的自我。</p>
<p>诺一显然受大家的喜爱最多的一个小朋友，形象可爱，声音甜蜜，哭闹有度，相比较来说见识广博，知道自己的生活习惯应该是怎样的，可能也有人看到他的缺点：总是玩的不亦乐乎，忘记所谓的正事，但是生活有些时候也不过是开心就好。</p>
<p>诺一的可爱劲显然来自于家庭教育，评选最受欢的爸爸刘烨很轻易的当选，如果评选最受欢迎的小朋友，诺一也是必然（摔跤比赛时诺一输了，小朋友们一直让康康不要摔诺一，诺一是我们的好朋友），观看的整个过程中，我一直在关注刘烨这个人物，他这个人对小孩子有善意的欺骗（对康康说流鼻血是男子汉的象征），有实在的解释，不会拿小孩子听不懂的僵硬道理空洞的训斥孩子，都讲到的具体的点上（这一点林永健做的就不好，训斥林大俊是一遍一遍呵斥大道理，从不就事论事讲细节），也从内心当中承认自己的问题（像诺一坦白更喜欢妹妹，但不知道这个会有什么问题），但总是习惯性的用自己的方式教育别人家的孩子则是一个很大的问题，从孩子的角度来说肯定是好的，但是如果孩子他爸在场则容易让人反感。</p>
<p>夏天是一个没有公主病的小公主，和诺一类似玩的喜欢玩的不亦乐乎，更幸运的是夏天有一个同样可爱的爸爸陪她玩耍，父女两个的关系好的让人羡慕，第三季开始时两人相处的一个小时氛围实在温馨，以至于夏天都不太情愿出去，而别的小朋友则就无聊的无法忍受。</p>
<p>康康的形象也很鲜明，一个有担当、比较稳重的男子汉形象。</p>
<p>什么样的孩子更优？这个应该是没有答案的，在不同的场景、不同的时代下都不一样，但招人喜欢的孩子肯定不会太差，哭、闹都是招人喜欢的铺垫。现如今情商的可贵之处有目共睹，而诺一则可以说是情商最高的。</p>
<p>人老了就容易被感动，看着听着眼泪容易打转。</p>
<h2 id="教育">教育</h2><p>知乎周刊收录了一条答案，我觉得讲的很到位，网站找了下没找到，可能已经删了，我就摘抄到下面：</p>
<pre><code>我个人认为最好的教育，其实是营造良好的家庭氛围，在不违背重大原则的基础上，给孩子充分的自由，发挥他们自己的想象力，这样家庭出来的孩子，才最有可能超越父母的成绩。

我自己将家庭教育分为四大类：

<span class="bullet">1. </span>父母水平不高，并且以自己的标准来教育孩子：这样的孩子通常是最弱的，因为他们只能重复父母低端的老路；
<span class="bullet">2. </span>父母水平不高，但是知道自己不行，给孩子充分的爱，让孩子自己去闯：这样的孩子因为缺乏正确的借鉴，可能在成长道路上摔很多跟头，但往往可以超越父母的成绩；
<span class="bullet">3. </span>父母水平很高，并以自己的标准要求孩子：这样的孩子最好的成绩就是与父母齐平，而且有可能因为父母带来的压力而走下坡路；
<span class="bullet">4. </span>父母水平很高，但无为而治，并不直接评判孩子的好坏，而是营造宽松的环境，引导孩子学会正确的做事和思考方式：这样的孩子身边有最好的成功案例，又能充分发挥自己的聪明才智，往往能够超越父母的成绩。
</code></pre><p>我觉得这里写的很到位，但超越父母的前提是营造宽松的氛围。之前也听说一句类似的话：能力一般的过来人交给你的思想听听就行，不要认真，因为很可能就是因为这些思想导致他们成为现在的他们。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/28/linux-0-11-init/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/28/linux-0-11-init/" itemprop="url">
                  linux-0.11内核初始化过程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-28T14:48:09+08:00">
                2015-08-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux0-11相关/" itemprop="url" rel="index">
                    <span itemprop="name">linux0.11相关</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/28/linux-0-11-init/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/28/linux-0-11-init/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="功能描述">功能描述</h2><p>系统在执行完boot/目录中的head.s程序后就会将执行权交给main.c。该程序虽然不长，但却包括了内核初始化的所有工作。</p>
<p>main.c程序首先利用前面setup.s程序取得的系统参数<strong>设置系统的跟文件设备号</strong>以及一些内存全局变量。这些内存变量指明了主内存的开始地址、系统所拥有的内存容量和作为高速缓冲区内存的末端地址。如果还定义了虚拟盘(RAMDISK)，则主内存将适当减少。整个内存的映像示意图如下：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0-11-init/system-in-memory.png" alt="系统中内存功能划分示意图"></p>
<p>图中，高速缓冲部分还要扣除被显存和ROM BIOS占用的部分。高速缓冲区是用于磁盘等块设备临时存放数据的地方，以1K(1024)字节为一个数据块单元。主内存区域的内存由内存管理模块mm通过分页机制进行管理分配，以4K字节为一个内存页单位。内核程序可以自由访问高速缓冲中的数据，但需要通过mm才能使用分配到的内存页面。</p>
<p>然后，内核进行所有方面的硬件初始化工作。包括陷阱门、块设备、字符设备和tty，还包括人工设置第一个任务(task 0)。待所有初始化工作完成后程序就设置中断允许标志以开启中断，并切换到任务0中运行。</p>
<p>在整个内核完成初始化后，内核将执行权切换到了用户模式(任务0)，也即CPU从0特权级切换到了第3特权级。此时main.c的主程序就工作在任务0中。然后系统第一次调用进程创建函数fork()，创建出一个用于运行init()的子进程(通常被称为init进程)。系统整个初始化过程如下图：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0-11-init/init-kernel-of-main.png" alt="内核初始化程序流程示意图"></p>
<p>main.c程序首先确定如何分配使用系统物理内存，然后调用内核各部分的初始化函数分别对内存管理、中断处理、块设备和字符设备、进程管理以及硬盘和软盘硬件进行初始化处理。在完成了这些操作之后，该系统各部分已经处于可运行状态。此后程序把自己“手工”移动到任务0(进程0)中运行，并使用fork()调用首次创建出进程1(init进程)，并在其中调用init()函数。在该函数中程序将继续进行应用环境的初始化并执行shell登录程序。而原进程0则会在系统空闲时被调度执行，因此进程0通常也被称为idle进程。此时进程0仅执行pause()系统调用，并又会调用调度函数。</p>
<p>init()函数的功能可分为4个部分：</p>
<ol>
<li>安装根文件系统；</li>
<li>显示系统信息；</li>
<li>运行系统初始资源配置文件rc中的命令；</li>
<li>执行用户登录shell程序。</li>
</ol>
<p>代码首先调用系统调用setup()，用来收集硬盘设备分区表信息并安装根文件系统。在安装根文件系统之前，系统会先判断是否需要先建立虚拟盘。若编译内核时设置了虚拟盘的大小，并在前面内核初始化过程中已经开辟了一块内存用作虚拟盘，则内核就会首先尝试把根文件系统加载到内存的虚拟盘区中。</p>
<p>然后init()打开了一个中断设备tty0，并复制器文件描述符以产生标准输入stdin、标准输出stdout和错误输出stderr设备。内存随后利用这些描述符在终端上显示一些系统信息，例如高速缓冲区中缓冲块总数、主内存区空闲内存总字节数等。</p>
<p>接着init()又新建了一个进程(进程2)，并在其中为建立用于交互使用环境而执行一些初始配置操作，即在用户可以使用shell命令行环境之前，内核调用/bin/sh程序运行了配置文件etc/rc中设置的命令。rc文件的作用与DOS系统根目录上的AUTOEXEC.BAT文件类似。这段代码首先通过关闭文件描述符0，并立刻打开文件/etc/rc，从而把标准输入stdin定向到etc/rc文件上。这样，所有的标准输入数据都将从该文件中读取。然后内核以非交互形式执行/bin/sh，从而实现执行/etc/rc文件中的命令。当该文件中的命令执行完毕后，/bin/sh就会立刻退出。因此进程2也就随之结束。</p>
<p>init()函数的最后一部分用于在新建进程中为用户建立一个新的会话，并运行用户登录shell程序/bin/sh。在系统执行进程2中的程序时，父进程(init进程)一直等待着它的结束。随着进程2的退出，父进程就进入了一个无限循环中。在该循环中，父进程会再次生成一个新进程，然后在该进程中创建一个新的会话，并以登录shell方式再次执行程序/bin/sh，以创建用户交互shell环境。然后父进程继续等待该子进程。登录shell虽然与前面的非交互式shell是同一个程序/bin/sh，但是所使用的命令行参数(argv[])不同。登录shell的第0个命令行参数的第1个字符一定是一个减少’-‘。这个特定的标志会在/bin/sh执行时通知它这不是一次普通的运行，而是作为登录shell运行/bin/sh的。从这时开始，用户就可以正常使用Linux命令行环境了，而父进程随之又进入等待状态。此后若用户在命令上执行了exit或logout命令，那么在显示一条当前登录shell退出的信息后，系统就会在这个无限循环中再次重复以上创建登录shell进程的过程。</p>
<p>任务1中运行的init()函数的后两部分实际上应该是独立的环境初始化程序init等的功能。</p>
<h2 id="注意">注意</h2><p>由于创建新进程的过程是通过完全复制父进程代码段和数据段的方式实现，因此在首次使用fork()创建新进程init时，为了确保新进程用户态栈中没有进程0的多余信息，要求进程0在创建首个新进程(进程1)之前不要使用其用户态栈，<strong>即要求任务0不要调用函数</strong>。因此在main.c主程序移动到任务0执行后，任务0中的代码fork()不能以函数形式进行调用。程序中实现的方法是采用如下所示的gcc函数内嵌(内联)形式来执行这个系统调度：</p>
<pre><code><span class="keyword">static</span> <span class="keyword">inline</span> _syscall0(<span class="keyword">int</span>,fork)
</code></pre><p>其中_syscall0()是unistd.h种的内嵌宏代码，它以嵌入汇编的形式调用Linux的系统调用中断int 0x80。根据include/unistd.h文件第133行上的宏定义，我们把这个宏展开并替代进上面一行中就可以看到这条语句实际上是int fork()创建进程系统调用，见如下：</p>
<pre><code><span class="comment">//unistd.h文件中_syscall0()的定义。即为不带参数的系统调用宏函数:type name(void)</span>
#define _syscall0(<span class="class"><span class="keyword">type</span>,<span class="title">name</span>) \</span>
<span class="class"><span class="keyword">type</span> <span class="title">name</span></span>(<span class="keyword">void</span>) \
{ \
long __res; \
__asm__ volatile (<span class="string">"int $0x80"</span> \        <span class="comment">// 调用系统中断0x80</span>
    : <span class="string">"=a"</span> (__res) \                <span class="comment">// 返回值--&gt;eax(__res)</span>
    : <span class="string">"0"</span> (__NR_##name)); \            <span class="comment">// 输入为系统中断调用号__NR_name</span>
<span class="keyword">if</span> (__res &gt;= <span class="number">0</span>) \
    <span class="keyword">return</span> (<span class="class"><span class="keyword">type</span>) <span class="title">__res</span>; \</span>
errno = -__res; \                    <span class="comment">// 否则置出错号，并返回-1</span>
<span class="keyword">return</span> -<span class="number">1</span>; \
}
</code></pre><p>根据上面定义把_syscall0(int,fork)展开代进第23行后我们可以得到如下语句：</p>
<pre><code><span class="keyword">static</span> inline <span class="function"><span class="keyword">int</span> <span class="title">fork</span><span class="params">(<span class="keyword">void</span>)</span>
</span>{
    <span class="keyword">long</span> __res;
    __asm__ <span class="keyword">volatile</span> (<span class="string">"int $0x80"</span> : <span class="string">"=a"</span> (__res) : <span class="string">"0"</span> (__NR_fork));
    <span class="keyword">if</span> (__res &gt;= <span class="number">0</span>)
        <span class="keyword">return</span> (<span class="keyword">int</span>) __res;
    errno = -__res;
    <span class="keyword">return</span> -<span class="number">1</span>;
}
</code></pre><p>gcc会把上述“函数”体中的语句直接插入到调用fork()语句的代码处，因此执行fork()不会引起函数调用。另外，宏名称字符串“syscall0”中最后的0表示无参数，1表示带1个参数。如果系统调用带有1个参数，那么久应该使用宏_syscall1()。</p>
<p>虽然上面系统中断调用执行中断指令INT时还是避免不了使用堆栈，但是系统调用使用任务的内核态栈而非用户栈，并且每个任务都有自己独立的内核态栈，因此系统调用不会影响这里讨论的用户态栈。</p>
<p>另外，在创建新进程init(即进程1)的过程中，系统对其进行了一些特殊处理。进程0和进程init实际上同时使用着内核代码区内(小于1MB的物理内存)相同的代码和数据物理内存页面(640KB)，只是执行的代码不再一处，因此实际上它们也同时使用着相同的用户堆栈区。在为新进程init复制器父进程(进程0)的页目录和页表项时，进程0的640KB页表项属性没有改动过(仍然可读写)，但是进程1的640KB对应的页表项却被设置成了只读。因此当进程1开始执行时，其对用户栈的出入栈操作将导致页面写保护异常，从而会使得内核的内存管理为进程1在主内存区中分配一内存页面，并把任务0栈中相应页面内容复制到此新页面上。从此时起，任务1的用户态栈开始有自己独立的内存页面。即从任务1执行过出/入栈操作后，任务0和任务1的用户栈才变成相互独立的栈。为了不出现冲突问题，就必须要求任务0在任务1执行栈操作之前禁止使用到用户堆栈区域，而让进程init能单独使用堆栈。因为在内核调度进程运行时次序是随机的，有可能在任务0创建了任务1后仍然先允许任务0。因此任务0执行fork()操作后，随后的pause()函数也必须采用内嵌函数形式来实现，以避免任务0在任务1之前使用用户栈。</p>
<p>当系统中一个进程(例如init进程的子进程，进程2)执行过execve()调用后，进程2的代码和数据区会位于系统的主内存区中，因此系统此后可以随时利用写时复制技术(Cpoy on Write)来处理其他新进程的创建和执行。</p>
<p>对于Linux来说，所有任务都是在用户模式下运行的，包括很多系统应用程序，如shell程序、网络子系统程序等。内核源代码lib/目录的库文件(除其中的string.c程序)就是专门为这里新创建的进程提供函数支持，内核代码本身并不使用这些库函数。</p>
<h2 id="注释">注释</h2><ol>
<li>内联(inline)函数：通过声明一个内联函数，可以让gcc把函数的代码集成到调用它的代码中。这会提高代码执行的速度，因为省去了函数调用的开销。另外，如果任何一个实际参数是一个常量，那么在编译时这些已知值就可能使用无需把内嵌函数的所有代码都包括进来而让代码也得到简化。</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/26/8259A-interrupt-control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/26/8259A-interrupt-control/" itemprop="url">
                  8259A中断控制器编程方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-26T10:25:04+08:00">
                2015-08-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux0-11相关/" itemprop="url" rel="index">
                    <span itemprop="name">linux0.11相关</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/26/8259A-interrupt-control/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/26/8259A-interrupt-control/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="8259A芯片工作原理">8259A芯片工作原理</h2><p>PC/AT系列兼容机中使用了级联的两片8259A可编程控制器(PIC)芯片，可共管理15级中断向量，其中从芯片的INT引脚连接到主芯片的IR2引脚上。主8259A芯片的端口基地址是0x20，从芯片是0xA0。一个8259A芯片的逻辑框图如下：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/8259A-interrupt-control/8259A-interrupt-control.png" alt="可编程中断控制器8259A芯片框图"></p>
<p>中断请求寄存器IRR(Interrupt Request Register)用来保存中断请求输入引脚上所有请求服务中断级，寄存器的8个比特位(D7—D0)分别对应引脚IR7—IR0。</p>
<p>中断屏蔽寄存器IMR(Interrupt Mask Register)用于保存被屏蔽的中断请求线对应的比特位，寄存器的8位也是对应8个中断级。哪个比特位被置1就屏蔽哪一级中断请求。即IMR对IRR进行处理，其每个比特位对应IRR的每个请求比特位。对高优先级输入线的屏蔽并不会影响低优先级中断请求线的输入。</p>
<p>优先级解析器PR(Priority Resolver)用于确定IRR中所设置比特位的优先级，选通最高优先级的中断请求到正在服务寄存器ISR(In-Service Register)中。ISR中保存着正在接受服务的中断请求。</p>
<p>控制逻辑方框中的寄存器组用于接收CPU产生的两类命令。在8259A可以正常操作之前，必须首先设置初始化命令字ICW(Initialization Command Words)寄存器组的内容。而在其工作过程中，则可以使用写入操作命令字OCW(Operation Command Words)寄存器组来随时设置和管理8259A的工作方式。A0线用于选择操作的寄存器。在PC/AT微机系统中，当A0线为0时芯片的端口地址是0x20和0xA0(从芯片)，当A0=1时端口就是0x21和0xA1。</p>
<p>来自各个设备的中断请求线分别连接到8259A的IR0—IR7中断请求引脚上。当这些引脚上有一个或多个终端请求信号时，中断请求寄存器IRR中相应的比特位被置位所存。此时若中断屏蔽寄存器IMR中对应位被置位，则相应的中断请求就不会被送到优先级解析器中。对于未屏蔽的中断请求被送到优先级解析器之后，优先级最高的中断请求会被选中。此时8259A就会向CPU发出一个INT信号，而CPU则会在执行完当前的一条指令之后向8259A发送一个INTA来相应中断信号。8259A在收到这个相应信号之后就会把所选出的最高优先级中断请求保存到正在服务寄存器ISR中，即ISR中对应中断请求级的比特位被置位。与此同时，中断请求寄存器IRR中的对应比特位被复位，表示该中断请求开始正被处理中。</p>
<p>此后，CPU会向8259A发送第2个INTA脉冲信号，该信号用于通知8259A送出中断号。因此在该脉冲信号期间8259A就会把一个代表中断号的8位数据发送到数据总线上共CPU读取。</p>
<p>到此为止，CPU中断周期结束。如果8259A使用的是自动结束中断AEOI(Automatic End of Interrupt)方式，那么在第2个INTA脉冲信号的结尾处正在服务寄存器ISR中的当前服务中断比特位就会被复位。否则的话，若8259A处于非自动结束方式，那么在中断服务程序结束时程序就需要项8259A发送一个结束中断(EOI)命令以复位ISR中的比特位。如果中断请求来自级联的第2个8259A芯片，那么就需要项两个芯片都发送EOI命令。此后8259A就会去判断下一个最高优先级的中断，并重复上述处理过程。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/13/linux-0-11-boot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/13/linux-0-11-boot/" itemprop="url">
                  linux-0.11启动过程描述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-13T21:20:27+08:00">
                2015-08-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux0-11相关/" itemprop="url" rel="index">
                    <span itemprop="name">linux0.11相关</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/13/linux-0-11-boot/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/13/linux-0-11-boot/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简单描述">简单描述</h2><p>当PC的电源打开后，80X86结构的CPU将自动进入实模式，并从地址0xFFFF0开始自动执行程序代码，这个地址通常是ROM-BIOS中的地址。PC机的BIOS将执行某些系统的检测，并在物理地址0处开始初始化中断向量。此后，它将可启动设备的第一个扇区（磁盘引导扇区，512字节）读入内存绝对地址0x7C00处，并跳转到这个地方。启动设备通常是软驱或是硬盘。</p>
<h2 id="启动之前">启动之前</h2><p>Linux启动是需要启动盘的，这里假定启动盘就是当时的1.44MB的A盘。我们先来看下各个模块在启动盘的位置信息。</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/disk-of-start-linux-0.11.png" alt="Linux 0.11内核在1.44MB磁盘上的分布情况"></p>
<p>1.44MB磁盘共有2880个扇区（1.44*1000*1000/500=2880，要理解奸商的计算方式），bootsect.s代码是磁盘引导块程序，驻留在磁盘的第一个扇区中（引导扇区，0磁道（柱面），0磁头，第1个扇区），setup模块占用随后的4个扇区，而0.11内核system模块大约占随后的240个扇区。还剩下2630个扇区未被使用。这些剩余的未用空间可被利用来存放一个基本的根文件系统，从而可以创建处使用单张磁盘就能让系统运转起来的集成盘来。</p>
<h2 id="启动过程">启动过程</h2><p><a href="https://github.com/labrick/linux-0.11/tree/v1.0/boot" target="_blank" rel="external">这里</a>我们可以看到linux/boot/目录下有三个文件和启动相关。</p>
<h3 id="BIOS和boot/bootsect-s">BIOS和boot/bootsect.s</h3><p>Linux最开始的部分是用8086汇编语言编写的(boot/bootsect.s)，它将由ROM BIOS自检后读入到内存绝对地址0x7C00(31KB)处并执行之，bootsect执行时，就会把自己[1]移动到内存绝对地址0x90000(576KB)处，并把启动设备中后2KB字节代码(boot/setup.s)读入到内存0x90200处，然后利用BIOS终端0x13取磁盘参数表中当前启动引导盘的参数，接着在屏幕上显示“Load<br>system…”字符串。而后将system模块读入到内存地址0x10000(64KB)开始处，因为当时system模块的长度不会超过0x80000字节大小（即512KB），所以bootsect程序把system模块读入物理地址0x10000开始位置处时并不会覆盖在0x90000(576KB)处开始的bootsect和setup模块。随后确定根文件系统的设备号，若没有指定，则根据所保存的引导盘的每磁道扇区数判别出盘的类型和种类（是1.44MB A盘吗？）并保存其设备号于root_dev（引导块的508地址处），最后长跳转到setup程序的开始处(0x90200)执行setup程序。</p>
<p>从机器加电开始顺序执行的程序如下图：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/process-of-linux-starting.png" alt="从系统加点起所执行程序的顺序"></p>
<h3 id="boot/setup-s">boot/setup.s</h3><p>boot/setup.s主要负责利用ROB BIOS终端读取机器系统数据，并将这些数据保存到0x90000开始的位置（覆盖掉了bootsect程序所在的位置），所去读取的参数和保留的内存位置如下表：（这些参数将被内核中的相关程序使用）</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/param-of-setup-reading.png" alt="setup程序读取并保存的参数"></p>
<p>然后setup程序将system模块移动到物理内存起始位置处[2]，这样system模块中代码的地址也即等于实际的物理地址，便于对内核代码和数据进行操作。下图清晰地显示出Linux系统启动时这几个程序或模块在内存中的动态位置。其中，每一竖条框代表某一时刻内存中个程序的映像位置图。在系统加载期间将显示信息“Loading…”。然后控制权将传递给boot/setup.s中的代码，这是另一个实模式汇编语言程序。</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/placement-and-movement-of-linux-kernel-in-mm-when-start.png" alt="启动引导时内核在内存中的位置和移动后的情况"></p>
<p>接下来加载中断描述符表寄存器(idtr)和全局描述符表寄存器(gdtr)，开启A20地址线，重新设置两个终端控制芯片8259A，将硬件中断号重新设置为0x20-0x2f。最后设置CPU的控制寄存器CR0(也称机器状态字),从而进入32位保护模式运行，并跳转到位于system模块最前端部分的head.s程序继续运行。</p>
<p>为了能够head.s在32位保护模式下运行，在本程序中临时设置了中断描述符表(IDT)和全局描述符表(GDT)，并在GDT中设置了当前内核代码段的描述符和数据段的描述符。下面在head.s程序中会根据内核的需要重新设置这些描述符表。</p>
<h3 id="boot/head-s">boot/head.s</h3><p>head.s程序在被编译生成目标文件后会与内核其他程序一起被链接成system模块，位于system模块的最前面开始部分，这也就是为什么称其为头部(head)程序的原因。system模块将被放置在磁盘上setup模块之后开始的扇区中，即从磁盘上第6个扇区开始放置。一般情况下Linux0.11内核的system模块大约有120KB左右，因此在磁盘上大约占240个扇区。</p>
<p>从这里开始，内核完全都是在保护模式下运行了。head.s汇编程序与前面的语法格式不同，它采用的是AT&amp;T的汇编语言格式，并且需要使用GNU的gas和gld进行编译链接。因此要注意代码中赋值的方向是从左到右。</p>
<p>这段程序实际上处于内存绝对地址0处开始的地方。这个程序的功能比较单一。首先是加载各个数据段寄存器，重新设置中断描述符表idt，共256项，并使各个表项均指向一个只报错误的哑中断子程序ignore_int。中断描述符表中每个描述符项也占8字节，其格式如下：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/idt-interrupt-diagram.png" alt="中断描述符表IDT中的中断门描述符格式"></p>
<p>在设置好中断描述符表之后，本程序又重新设置了全局段描述符表gdt。实际上新设置的GDT表与原来在setup.s程序中设置的GDT表描述符除了在段限长上有些区别以外(原为8MB，现为16MB)，其他内容完全一样。当然我们也可以在setup.s程序中就把描述符的段限长直接设置成16MB，然后直接把原GDT表移动到内存适当位置处。因此这里重新设置GDT的主要原因是为了把gdt表放在内存内核代码比较合理的地方。前面设置的GDT表处于内存0x902XX处。这个地方将在内核初始化后用作内存高速缓冲区的一部分。</p>
<p>接着使用物理地址0与1MB开始处的字节内容相比较的方法，检测A20地址线是否已真的开启。如果没有开启，则在访问高于1MB物理内存地址时CPU实际只会循环访问(IP MOD 1Mb)地址处的内容，也即与访问从0地址开始对应字节的内容都相同。如果检测下来发现没有开启，则进入死循环。然后程序测试PC机是否含有数学协处理芯片(80287、80387或兼容芯片)，并在控制寄存器CR0中设置相应的标志位。</p>
<p>接着设置管理内存的分页处理机制，将页目录表放在绝对物理地址0开始处(也是本程序所处的物理内存位置，因此这段程序将被覆盖掉)，紧随后面放置共可寻址16MB的4个页表，并分别设置它们的表项。页目录表项和页表项格式如下。</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/page-iterm-and-structure.png" alt="页目录表项和页表项结构"></p>
<p>这里每个表项的属性标志都被设置成0x07(P=1、U/S=1、R/W=1)，表示该页存在、用户可读写。这样设置内核页表属性的原因是:CPU的分页机制和分页管理都有保护方法。分页机制中页目录表和页表项中设置的保护标志(U/S、R/W)需要与段描述符中的特权级(PL)保护机制一起组合使用。但段描述符中的PL其主要作用。CPU会首先检查段保护，然后再检查页保护。如果当前特权级CPL&lt;3(例如0)，则说明CPU正在以超级用户(Supervisor)身份运行。此时所有页面都能访问，并可随意进行内存读写操作。入宫CPL=3，则说明CPU正在以用户(User)身份运行。此时只有属于User的页面(U/S=1)可以访问，并且只有标记为可读写的页面(W/R=1)是可写的。而此时属于超级用户的页面(U/S=0)则既不可写、也不可以读。由于内核代码有些特别之处，即其中包含有任务0和任务1的代码和数据。因此这里把页面属性为0x7就可保护这两种任务代码不仅可以在用户态下执行，而且又不能随意访问内核资源。</p>
<p>最后，head.s程序利用返回指令将预先放置在对战中的/init/main.c程序的入口地址弹出，去运行main()程序。</p>
<p>head.s程序执行结束后，已经正式完成内存页目录和页表的设置，并重新设置了内核实际使用的中断描述符表idt和全局描述符表gdt。另外还为软盘驱动程序开辟了1KB字节的缓冲区。此时system模块在内存中的详细映像如下：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/linux-0.11-start/system-in-memory.png" alt="system模块在内存中的映像示意图"></p>
<p>启动部分识别主机的某些特性以及VGA卡的类型。如果需要，它会要求用户为控制台选择模式。然后将整个系统从地址0x10000移至0x0000处[3]，进入保护模式并跳转至系统的余下部分（在0x0000处）。此时所有32位运行方式的设置启动被完成：IDT、GDT以及LDT被加载，处理器和协处理器也已确认，分页工作也设置好了；最终调用init/main.c中的main()程序。</p>
<p>boot/head.s可能是整个内核中最有诀窍的代码。</p>
<h3 id="注意点">注意点</h3><p>上面的所有过程都不能出错，一旦出错，计算机就会死机，在操作系统还没有完全运转之前是处理不了出错的。</p>
<h2 id="根文件系统问题[4]">根文件系统问题[4]</h2><p>仅在内存中加载上述内核代码模块并不能让Linux系统运行起来。作为完整可运行的Linux系统还需要有一个基本的文件系统支持，即根文件系统。Linux<br>0.11内核仅支持MINIX的1.0文件系统。根文件系统通常在另一个软盘上或者在一个硬盘分区中。为了通知内核所需要的根文件系统在什么地方，bootsect.s程序的第43行上给出了根文件系统所在的默认块设备号。在内核初始化时会使用编译内核时放在引导扇区第509、510(0x1fc—0x1fd)字节中的指定设备号。</p>
<h2 id="疑问点">疑问点</h2><ol>
<li><p>是谁将bootsect移动到内存绝对地址0x90000(576KB)处，是bootsect自身？</p>
<p> 答：按照上述理解与分析，搬移bootsect程序的应该是它自身。</p>
</li>
<li><p>系统上电时BOIS已经在起始位置（也就是物理地址0位置）初始化了中断向量，此处将system模块还移动到物理内存其实位置处不会覆盖之前的中断向量？</p>
<p> 答：这是因为BIOS ROM中的中断调用（大小为0x400直接，也就是1KB）是用来获取机器的一些参数（例如显示模式、硬盘参数表等）。而启动setup程序时，这些参数已经获取完毕，就可以直接被覆盖掉了，这也是bootsect不把system模块直接加载到物理地址0x0000开始处的原因。(真的是这样吗？系统启动之后就不再需要这些中断了？可是微机实验中的中断都是可用的啊？)</p>
</li>
<li><p>上面已经说是setup完成的将system模块（也就是整个系统）移动到物理内存起始位置，但是此处由说是head进行的搬移，似乎出现了矛盾？</p>
</li>
<li><p>为什么需要有文件系统才能使Linux系统运行起来，内核模块应该运行起来了吧？</p>
</li>
</ol>
<h2 id="从硬盘启动系统">从硬盘启动系统</h2><p>若需要从硬盘设备启动系统，那么通常需要使用其他多操作系统引导程序来引导系统加载。比如：Shoelace、LILO或Grub等多操作系统引导程序。此时bootsect.s所完成的任务会由这些程序来完成。bootsect程序就<strong>不会被执行</strong>了。因为如果从硬盘启动系统，那么通常内核映像文件<strong>Image会存放在活动分区的根文件系统中</strong>。因此你就需要知道内核映像文件Image处于文件系统中的位置以及是什么文件系统。即你的引导扇区程序需要能够识别并访问文件系统，并从中读取内核映像文件。</p>
<p>从硬盘启动的基本流程是：系统上电后，可启动硬盘的第1个分区（主引导记录MBR - Master Boot Record）会被BIOS加载到内存0x7c00处并开始执行。改程序会首先把自己向下移动到内存0x600处，然后根据MBR中分区表信息所指明活动分区中的第1个扇区（引导扇区）加载到内存0x7c00处，然后开始执行之。如果直接使用这种方法来引导系统就会碰到这样一个问题：即根文件系统不能与内核映像文件Image共存。</p>
<p>我所想到的解决方法有两个。一种办法是专门设置一个小容量的活动分区来存放内核映像文件Image。而相应的根文件系统则放在另一个分区中。这样虽然浪费了硬盘的4个主分区之一，但应该能在对bootsect.s程序作最少修改的前提下做到从硬盘启动系统。另一个办法是把内核映像文件Image与根文件系统组合存放在一个分区中，即内核映像文件Image放在分区开始的一些扇区中，而根文件系统则从随后某一指定扇区开始存放。这两种方法均需要对代码进行一些修改。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/11/translate-abc-xyz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/11/translate-abc-xyz/" itemprop="url">
                  Google集团Alphabet
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-11T06:54:49+08:00">
                2015-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/突发奇想的小玩意/" itemprop="url" rel="index">
                    <span itemprop="name">突发奇想的小玩意</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/11/translate-abc-xyz/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/11/translate-abc-xyz/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="文章背景">文章背景</h2><p>今天Google成立了新的母公司Alphabet，话说是因为Google代表搜索引擎，但是公司内部做了很多和核心业务没有关联的项目工程，或者实验，为了更好的组织公司，可能还有其他方面的原因成立了Aphabet，<a href="https://abc.xyz/" target="_blank" rel="external">文章网址在此</a>，和我的域名很像~-~，当时头脑一发热注册abc就发财了~-~</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/translate-abc-xyz/abc-xyz.jpg" alt="abc-xyz"></p>
<h2 id="G就代表Google">G就代表Google</h2><p>11年前Google刚创建的时候，Sergey和我一同写了一个声明：“Google不是一个传统型公司，我们的目的也不是创建一个传统型公司。”作为那时的补充，我们再次声明：你可能希望我们在一些非常有前景或者比较奇怪的领域，以比我们现在的业务更小的赌注来做事。作为开始，我们总是在努力的路上，用我们所拥有的资源来做重要而有意义的事。</p>
<p>我们已经做了很多看起来很疯狂的产品，这些产品中已经有很多拥有十亿以上的用户，比如：Google Maps, YouTube, Chrome, 还有Android. 但是我们不会满足于现在。我们仍然要尝试去做人们认为很疯狂，但是能让我们超级兴奋的事情。</p>
<p>我们一直相信，过去的公司通常做相同的事情来让公司平稳的发展，最多做一些增长性的改变。但是对于科技领域，变革思想才能驱动下一个大的增长，这样你就需要待在相关的不舒服的位置。</p>
<p>如今，我们公司管理的不错，但是我们想我们可以让她变得更整洁，更加的权责分明。因此我们创建了一个公司叫：Alphabet。我很荣幸的作为Alphabet公司的CEO来帮助我们有才能的董事会主席Sergey。</p>
<h2 id="什么是Alphabet？">什么是Alphabet？</h2><p>Alphabet更像是一个公司的集合（集团），公司中的老大当然是Google。</p>
<pre><code>This newer Google <span class="keyword">is</span> a bit slimmed down, <span class="keyword">with</span> <span class="keyword">the</span> companies <span class="keyword">that</span> are pretty far afield <span class="keyword">of</span> our main internet products contained <span class="keyword">in</span> Alphabet instead. What do we mean <span class="keyword">by</span> far afield? Good examples are our health efforts: Life Sciences (<span class="keyword">that</span> works <span class="function_start"><span class="keyword">on</span></span> <span class="keyword">the</span> glucose-sensing contact lens), <span class="keyword">and</span> Calico (focused <span class="function_start"><span class="keyword">on</span></span> longevity).
</code></pre><p>我们认为这样从根本上让我们有一个更合适的管理规模，可以让各个部分没有相互影响的独立运行。</p>
<h2 id="成立Alphabet的初衷">成立Alphabet的初衷</h2><p>Alphabet通过独立的运作，并配备有能力的领导人而使业务更加繁荣的方法。通常情况下，我们让一位有能力的CEO独立的运作一个业务，然后在需要的时候，Sergey和我来为他们服务。我们严格的控制资本和业务的分配来确保每一个业务都能很好的运作。我们也会确保每一个业务都有一个很好的CEO，并且决定他们的薪资。另外，在这个新的组织结构内：</p>
<pre><code>we plan <span class="built_in">to</span> implement <span class="keyword">segment</span> reporting <span class="keyword">for</span> our Q4 results, where Google financials will be provided separately than those <span class="keyword">for</span> <span class="operator">the</span> rest <span class="operator">of</span> Alphabet businesses <span class="keyword">as</span> <span class="operator">a</span> <span class="keyword">whole</span>.
</code></pre><p>这种新的组织结构将让我们更关注与Google视角的非凡机会，这里的关键是Sundar Pichai。从今以后，Sundar做我之前做的事（有时他做的更好！），我们一起很快的工作。从去年10月分至今，在负责我们互联网业务的产品和工程上，他已经上岗上道了。Sergey和我对他所开展的工作和所做的贡献也都非常满意。是时候让Sundar担任Google的CEO，这一点对我们及董事会都是很显然的。公司能拥有像他那样有才能的人，给Google瘦身，这些给我节省了时间以方便我规划我们的前景。我也已经花了一些时间来和Sundar一起做事，在我能帮助的地方帮助他和公司，当然，我还会急需做这件事。Google自己也在对新的产品进行规划，并且我知道Sundar将继续注重于创新—继续拓展新的边界。我还知道他一直关心在我们的核心任务（组织全世界的信息）上做出大的跨步。最近发起的基于机器学习的Google Photos和Google Now取得了惊人的进步。Google也有一些独立运行的服务，比如YouTube，Suasan作为他的CEO正在运作一个强大的品牌并取的难以置信的业绩增长。</p>
<p>Sergey和我对开启新的东西很感兴趣，Alphabet将包含我们的X实验室（which incubates new efforts like Wing, our drone delivery effort.）。作为这种新结构的一部分，我们又增加了我们的投资机构，合资企业和资本。</p>
<p>Alphabet公司将会在公众贸易实体上取代Google公司，并且Google所有的股份将会自动转化为相同份额的Alphabet股份，权利也完全相同。Google将变成一个完全独立的Alphabet的子公司。我们的两级股份将继续在纳斯达克以GOOGL和GOOG交易。</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/translate-abc-xyz/alphabet.png" alt="Alphabet"></p>
<h2 id="Alphabet名字的由来">Alphabet名字的由来</h2><p>对于Sergey和我来说，这是Google一生中非常令人兴奋的新篇章—Alphabet的诞生。我们很喜欢Alphabet这个名字，因为它意味可以代表语言的所有字母的合计，而且语言是人类最重要的发明之一，也是怎样索引Google搜索的关键。我们也很喜欢它alpha-bet（Alpha是在benchmark上的投资回报）的含义，促使我们大踏步的前进。我还应该加一句：我们的目的并不是以此作为一个与产品相关的消费品牌—所有的重点在于Alphabet公司有自己独立发展的品牌。</p>
<h2 id="未来的事">未来的事</h2><p>我们对下面的事情感到兴奋：</p>
<ul>
<li>做一些更有雄心的事情</li>
<li>从长远的视角来看待问题</li>
<li>使我们伟大的企业繁荣昌盛</li>
<li>投资我们能看到的机会和资源</li>
<li>提高我们所做事情的透明度和监督程度</li>
<li>通过聚焦于伟大来使Google更好</li>
<li>希望以此来提高尽可能多人们的生活水平</li>
</ul>
<p>什么可以做的更好？不用怀疑，我们在Alphabet家庭里共同愉快的合作。不用担心，我们仍然遵循我们名字的格言。</p>
<p>Larry Page</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/10/vim-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/10/vim-command/" itemprop="url">
                  vim基本指令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-10T12:05:25+08:00">
                2015-08-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux学习/" itemprop="url" rel="index">
                    <span itemprop="name">linux学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/10/vim-command/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/10/vim-command/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="vi的使用">vi的使用</h2><h3 id="vi有三种模式">vi有三种模式</h3><h4 id="一般模式">一般模式</h4><p>打开一个档案就直接一般模式(默认模式)[vi档名]进入一般模式。可以删除、粘贴、复制数据，但不能进行文本编辑。</p>
<p>一般模式按键说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">移动光标的方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">h/←</td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">j/↓</td>
<td style="text-align:left">光标向下移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">k/↑</td>
<td style="text-align:left">光标向上移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">l/→</td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+f</td>
<td style="text-align:left">屏幕向下移动一页，相当于Page Down按键</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+b</td>
<td style="text-align:left">屏幕向上移动一页，相当于Page Up按键</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+d</td>
<td style="text-align:left">屏幕向下移动半页</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+u</td>
<td style="text-align:left">屏幕向下移动半页</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">光标移动到非空格符的下一列</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">光标移动到非空格符的上一列</td>
</tr>
<tr>
<td style="text-align:left">n&lt;space</td>
<td style="text-align:left">按下数字再按空格键，光标会移动到这一行的n个字符。</td>
</tr>
<tr>
<td style="text-align:left">0或home键</td>
<td style="text-align:left">移动到这一行的最前面字符处</td>
</tr>
<tr>
<td style="text-align:left">$或End键</td>
<td style="text-align:left">移动到这一行的最后面字符处</td>
</tr>
<tr>
<td style="text-align:left">H</td>
<td style="text-align:left">光标移动到这个屏幕的最上方那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">光标移动到这个屏幕的最中央那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">L</td>
<td style="text-align:left">光标移动到这个屏幕的最下那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">G</td>
<td style="text-align:left">移动到这个档案的最后一行</td>
</tr>
<tr>
<td style="text-align:left">nG</td>
<td style="text-align:left">移动到这个档案的第n行</td>
</tr>
<tr>
<td style="text-align:left">gg</td>
<td style="text-align:left">移动到这个档案的第一行</td>
</tr>
<tr>
<td style="text-align:left">n<enter></enter></td>
<td style="text-align:left">光标向下移动n行</td>
</tr>
<tr>
<td style="text-align:left">/word</td>
<td style="text-align:left">光标向下寻找一个名称为word的字符串</td>
</tr>
<tr>
<td style="text-align:left">?word</td>
<td style="text-align:left">向光标之上寻找一个名称为word的字符串</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">重复前一个搜索动作</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">反向进行前一个搜寻行动</td>
</tr>
<tr>
<td style="text-align:left">:1,n2s/word1/word2/g</td>
<td style="text-align:left">在第n1与n2行之间寻找word1这个字符串，并将该字符串取代为word2</td>
</tr>
<tr>
<td style="text-align:left">:1，$/word1/word2/g</td>
<td style="text-align:left">从第一行到最后一行寻找word1字符串，并将该字符串取代为word2。</td>
</tr>
<tr>
<td style="text-align:left">:1，$/word1/word2/gc</td>
<td style="text-align:left">从第一行到最后一行寻找word1字符串，并将该字符串取代为word2。且在取代前提示字符给用户确认是否需要取代</td>
</tr>
<tr>
<td style="text-align:left">x,X</td>
<td style="text-align:left">在一行字当中，x为向除一个字符，X为向前删除一个字符</td>
</tr>
<tr>
<td style="text-align:left">nX</td>
<td style="text-align:left">连续向后删除你n个字符</td>
</tr>
<tr>
<td style="text-align:left">dd</td>
<td style="text-align:left">删除游标所在的那一整列游标</td>
</tr>
<tr>
<td style="text-align:left">ndd</td>
<td style="text-align:left">删除光标所在的向下n列</td>
</tr>
<tr>
<td style="text-align:left">d1G</td>
<td style="text-align:left">删除光标所在到第一行的所有数据</td>
</tr>
<tr>
<td style="text-align:left">dG</td>
<td style="text-align:left">删除光标所在到最后一行的所有数据</td>
</tr>
<tr>
<td style="text-align:left">d$</td>
<td style="text-align:left">删除游标所在处，到该行的最后一个字符</td>
</tr>
<tr>
<td style="text-align:left">d0</td>
<td style="text-align:left">删除游标所在处，到该行的最前面一个字符</td>
</tr>
<tr>
<td style="text-align:left">yy</td>
<td style="text-align:left">复制游标所在的那一行</td>
</tr>
<tr>
<td style="text-align:left">nyy</td>
<td style="text-align:left">复制光标所在的向下n列</td>
</tr>
<tr>
<td style="text-align:left">y1G</td>
<td style="text-align:left">复制光标所在列到第一列的所有数据</td>
</tr>
<tr>
<td style="text-align:left">yG</td>
<td style="text-align:left">复制光标所在列到最后一列的所有数据</td>
</tr>
<tr>
<td style="text-align:left">y0</td>
<td style="text-align:left">复制光标所在的那个字符到该行首的所有数据</td>
</tr>
<tr>
<td style="text-align:left">y$</td>
<td style="text-align:left">复制光标所在的那个字符到该行尾有数据</td>
</tr>
<tr>
<td style="text-align:left">p,P</td>
<td style="text-align:left">p为将已复制的数据在光标的下一行贴上，P则为贴在游标上一行</td>
</tr>
<tr>
<td style="text-align:left">j</td>
<td style="text-align:left">将光标所在列与下一行的数据结合成同一列</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">重复删除多个数据</td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">复原前一个动作</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+r</td>
<td style="text-align:left">重复上一个动作</td>
</tr>
</tbody>
</table>
<h4 id="编辑模式">编辑模式</h4><p>按下[i, I, o, O, a, A, r, R]等任何一个字母后才会进入编辑模式。</p>
<p>一般模式切换到编辑模式的可用按钮说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">进入插入或取代的编辑模式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">i,I</td>
<td style="text-align:left">进入插入模式，i为从目前光标所在处插入，I为在目前所在行的第一个非空格符处开始插入</td>
</tr>
<tr>
<td style="text-align:left">a,A</td>
<td style="text-align:left">进入插入模式，a为从光标所在的下一字符处开始插入，A为从光标所在行的最后一个字符处开始插入</td>
</tr>
<tr>
<td style="text-align:left">o,O</td>
<td style="text-align:left">进入插入模式，o为在目前光标所在的下一行处插入新的一行，O为在目前光标所在处的上一行插入新的一行</td>
</tr>
<tr>
<td style="text-align:left">r,R</td>
<td style="text-align:left">进入取代模式，r只会取代光标所在的那一个字符一次，R会一直取代光标所在的文字，直到按下ESC为止</td>
</tr>
</tbody>
</table>
<h4 id="指令列命令模式">指令列命令模式</h4><p>在一般模式中，输入[:/?]三个按钮中的任何一个按钮，就可以将光标移动到最底下那一行。在这个模式中，可以提供搜寻资料的动作，可以完成读取、存盘、大量取代字符、离开vi[:wq]显示行号等动作。</p>
<p>三种模式只有以按摩时可以与编辑模式、指令列模式切换。</p>
<p>一般模式切换到指令列模式的可用按钮说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">指令列的储存、离开等指令</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">:w</td>
<td style="text-align:left">将编辑的数据写入硬盘档案中</td>
</tr>
<tr>
<td style="text-align:left">:w!</td>
<td style="text-align:left">若文件属性为只读写入该档案，能不能写入要看该档案的档案权限</td>
</tr>
<tr>
<td style="text-align:left">:q</td>
<td style="text-align:left">离开vi</td>
</tr>
<tr>
<td style="text-align:left">:q!</td>
<td style="text-align:left">若曾修改过档案，又不想储存，使用！为强制离开不储存档案</td>
</tr>
<tr>
<td style="text-align:left">:wq</td>
<td style="text-align:left">储存后离开，若为：wq!则为强制储存后离开</td>
</tr>
<tr>
<td style="text-align:left">ZZ</td>
<td style="text-align:left">若档案没有更动，则不储存离开，若档案已被更动过，则储存后离开</td>
</tr>
<tr>
<td style="text-align:left">:w[filename]</td>
<td style="text-align:left">将编辑的数据储存成另一个档案</td>
</tr>
<tr>
<td style="text-align:left">:r[]filename]</td>
<td style="text-align:left">在编辑的数据中，读入另一个档案的数据，即将[filename]这个档案内容加到游标所在行后面</td>
</tr>
<tr>
<td style="text-align:left">:n1,n2 w [filename]</td>
<td style="text-align:left">讲n1到n2的内容储存成filename这个档案</td>
</tr>
<tr>
<td style="text-align:left">:! Command</td>
<td style="text-align:left">暂时离开vi到指令列模式下执行command的显示结果</td>
</tr>
<tr>
<td style="text-align:left">:set nu</td>
<td style="text-align:left">显示行号，设定之后，会在每一行的前缀显示该行的行号</td>
</tr>
<tr>
<td style="text-align:left">:set nonu</td>
<td style="text-align:left">与set nu相反，为取消行号</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/09/difference-between-ttl-and-rs232/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/09/difference-between-ttl-and-rs232/" itemprop="url">
                  TTL电平与RS232电平的区别
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-09T03:45:33+08:00">
                2015-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/颇有技术含量/" itemprop="url" rel="index">
                    <span itemprop="name">颇有技术含量</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/09/difference-between-ttl-and-rs232/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/09/difference-between-ttl-and-rs232/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="背后的故事">背后的故事</h2><p>最近在调试全志A20的一块板子，找了个视频通话的安卓源码想在其上运行，但是一旦软件执行视频通话功能就会死掉，而在普通的手机里都能正常运行，所以就像看一下它的UART输出是怎样的，接着就去接A20的UART的。</p>
<p>面对实验室的条件只能说无语。没有串口线怎么搞？后来我从606拿过来两根，一根试了半天还不能用，恶心，另一根则是个锈迹斑斑的，插个杜邦线插的手疼，终于搞定电路问题后发现输出都是乱码？这个怎么理解？</p>
<h2 id="原因分析">原因分析</h2><p>串口出现乱码可能是因为哪些原因呢？出现了乱码基本可以判断com口正确。其他可能原因如下：</p>
<ol>
<li>驱动不对</li>
<li>串口和驱动的配置不对应（波特率、起始位、校验位、停止位）</li>
<li>串口调试助手的文字编码格式不对</li>
<li>数据线接触不良</li>
<li>电平逻辑不对</li>
</ol>
<p>对于现在调的这块板子，驱动是全志做在系统中的，他们都是经过细心调试，而且时刻在用的工具，驱动应该没有问题，设置是按照全志提供的参数进行配置应该也没有问题。</p>
<p>对于串口调试助手我采用了两个，一个是友善的串口，里面没有对编码设置的情况，输出是乱码，另一个采用secureCRT，默认和utf-8都试了下，效果没有得到改善。</p>
<p>数据线接触不良的情况是全志的一位同事提出的，我没有遇到过这种情况，由于线比较老，不能排除这一点，但是我已经尽自己最大的努力让数据线接触良好，所以基本也可以排除。</p>
<p>最后就剩下一个电平逻辑不对。我为什么会怀疑这个问题呢？因为我看到SMDT论坛上说明UART的测试方法如下：</p>
<pre><code><span class="number">1</span>. 先短路板子上的UART－TX和UART－RX，用<span class="keyword">ANDROID上的串口测试程序，采用自发自收的测试方式，是否能正常的数据通信
</span><span class="number">2</span>. 再连接好<span class="preprocessor">TTL</span>－RS232串口板，再短路串口板后端，再采用串口工具，同样的方式，测试是否正常
<span class="number">3</span>. 再连接好外部设备，设置好波特率，串口号（一般为ttySx），测试是否正常
<span class="number">4</span>.如果还是存在问题，可以先用<span class="literal">PC</span>来测试外部设备是否能正常通信的，如果是完全OK的，应该是设置波特率和串口号出问题，或者是<span class="number">232</span>串口到外部设备这端需要把TX和RX交叉
</code></pre><p>这样就很明白问题所在。</p>
<p>这里有个问题：我采用RS232对接TTL为什么会产生乱码呢？</p>
<h2 id="TTL与RS232的区别">TTL与RS232的区别</h2><p>我们再加上一个CMOS电平，看看下面的表格:</p>
<table>
<thead>
<tr>
<th style="text-align:left">电平名称</th>
<th style="text-align:left">输出L</th>
<th style="text-align:left">输出H</th>
<th style="text-align:left">输入L</th>
<th style="text-align:left">输入H</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TTL</td>
<td style="text-align:left">&lt;0.8V</td>
<td style="text-align:left">&gt;2.4V</td>
<td style="text-align:left">&lt;1.2V</td>
<td style="text-align:left">&gt;2.0V</td>
</tr>
<tr>
<td style="text-align:left">RS232</td>
<td style="text-align:left">+3~+15V</td>
<td style="text-align:left">-3~-15V</td>
<td style="text-align:left">+3~+15V</td>
<td style="text-align:left">-3~-15V</td>
</tr>
<tr>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">&lt;0.1*Vcc</td>
<td style="text-align:left">&gt;0.9*Vcc</td>
<td style="text-align:left">&lt;0.3*Vcc</td>
<td style="text-align:left">&gt;0.7*Vcc</td>
</tr>
</tbody>
</table>
<h3 id="TTL与RS232">TTL与RS232</h3><p>我们先看TTL与RS232两行，现在我们A20板子上的输出是TTL电平，然后我采用RS232接口进行衔接（GND—GND | TXD—RXD | RXD—TXD），看看会出现什么结果：</p>
<p>TTL输出<0.8v为低电平（应该不会为负），rs232则进行检测这个电压接近于0v，这样是无效？？如果ttl输出>2.4V，RS232检测这个电压最有可能为逻辑<code>0</code>，这样的结果也就是说RS232只能将TTL输出的高电平检测为低电平，TTL输出的低电平作为无效，这样为什么会出现乱码呢？</0.8v为低电平（应该不会为负），rs232则进行检测这个电压接近于0v，这样是无效？？如果ttl输出></p>
<p>有两种可能：</p>
<ol>
<li>停止位设置为<code>0</code>，这样可能停止，就可以正常接收乱码数据，如果都是<code>0</code>数据应该也比较有规律，从乱码来看，这个是不正确的。</li>
<li>RS232将TTL &lt;0.8V的低电平检测为RS232的高电平，这样也就是和RS232和TTL的电平完全反过来进行接受，完全乱码，这样是很有可能的，就是我的这个假设是否成立不确定。</li>
</ol>
<pre><code>我们通常说的UART串口的RXD、TXD等一般直接与处理器芯片的引脚相连，其为TTL电平，而RS<span class="number">232</span>串口的RXD、TXD等一般需要经过电平转换<span class="comment">(通常由Max232等芯片进行电平转换)</span>才能接到处理器芯片的引脚上，否则这么高的电压很可能会把芯片烧坏。<span class="comment">(事实上我就是这样接的，没有烧坏芯片，反而是出现乱码)</span>
我们平时所用电脑的串口是RS<span class="number">232</span>的，当我们在做电路工作时，应该注意下外设的串口是UART类型的还是RS<span class="number">232</span>类型的，如果不匹配，应当找个转换线<span class="comment">(通常这根转换线内有块类似于Max232的芯片做电平转换工作的)</span>，可不能盲目地将两串口相连。
</code></pre><h3 id="TTL与CMOS">TTL与CMOS</h3><ol>
<li>电平的上限和下限定义不一样，CMOS具有更大的抗噪区域。同是5伏供电的话，TTL一般是1.7V和3.5V的样子，CMOS一般是2.2V,2.9V的样子，不准确，仅供参考。</li>
<li>电流驱动能力不一样，TTL一般提供25毫安的驱动能力，而CMOS一般在10毫安左右。</li>
<li>需要的电流输入大小也不一样，一般ttl需要2.5毫安左右，CMOS几乎不需要电流输入。</li>
<li>很多器件都是兼容TTL和CMOS的，datasheet会有说明。如果不考虑速度和性能，一般器件可以互换。但是需要注意有时候负载效应可能引起电路工作不正常，因为有些ttl电路需要下一级的输入阻抗作为负载才能正常工作。</li>
</ol>
<p>TTL和CMOS的逻辑电平转换<br>CMOS电平能驱动TTL电平，TTL电平不能驱动CMOS电平，需加上拉电阻。</p>
<h3 id="常用逻辑芯片特点">常用逻辑芯片特点</h3><table>
<thead>
<tr>
<th style="text-align:left">系列</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">输入</th>
<th style="text-align:left">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">74LS系列</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">TTL</td>
</tr>
<tr>
<td style="text-align:left">74HC系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
</tr>
<tr>
<td style="text-align:left">74HCT系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">CMOS</td>
</tr>
<tr>
<td style="text-align:left">CD4000系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/08/lab/what-did-i-learn-in-zhihu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/08/lab/what-did-i-learn-in-zhihu/" itemprop="url">
                  这些年我在知乎都学到了什么
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-08T11:13:25+08:00">
                2015-08-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/08/lab/what-did-i-learn-in-zhihu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/08/lab/what-did-i-learn-in-zhihu/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="我与知乎">我与知乎</h2><p>我是知乎很普通的一名用户，但是知乎却是我喜欢的第一个网站，从10年的第一次接触就觉得她与众不同，能够带给我不凡的经历，给我的生活与心态带来翻天覆地的变化，所以从第一次接触知乎之后我就在向周围的同学朋友推荐或者说是介绍知乎，如果说知乎想要用户之间的品牌传播，我相信应该不只是我在做这一步，或许这就是一个好的产品的见证。</p>
<h2 id="接触正题">接触正题</h2><h3 id="世界观的认知">世界观的认知</h3><p>在认识知乎之前，我对这个世界缺少感触，缺少对人、对事的思考，一旦一个人问对这件事是什么态度，有什么想法？一片空白，没有任何想法。在平常的生活中缺乏对周围实物的认知是一件非常可怕的事情，这是说我们已经没有思考，王小波说：世间最美好的莫过于思考</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://labrick.github.io/2015/08/05/change-github-pages-domain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Brick">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="工作实验室">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/08/05/change-github-pages-domain/" itemprop="url">
                  改变github-pages的域名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-08-05T05:01:10+08:00">
                2015-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/突发奇想的小玩意/" itemprop="url" rel="index">
                    <span itemprop="name">突发奇想的小玩意</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/08/05/change-github-pages-domain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/08/05/change-github-pages-domain/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="背景介绍">背景介绍</h2><p>从N年前开始我就一直梦想着拥有一个自己可以掌握全部权限的博客网站，去年学python折腾了一下Django，两个月前突发奇想折腾了一下各种空间，然后一位好友推荐github pages中的jekyll，又扑腾了一番，做了个简单点demo，但是感觉有点复杂，而且被我改的乱七八杂，奇丑无比，不过确实从其中了解了什么是jekyll？那么多的文件是怎么组织起来的？也为现如今的hexo打下了基础。</p>
<p>注：hexo用起来真心简单，对于一个需要长期坚持的事情来说，简单才是真理。</p>
<h2 id="建站之后">建站之后</h2><p>配置了百度的统计，百度站内搜索（看到要备案就流产了），多说评论系统，另外加入我的一些基本的链接，但是域名一直没有购买。上午闲来无事，突发奇想的去看看域名，在万网、godaddy都搜索了一下，比较了一下价格还是选择了万网的域名，相比较来说便宜很多，而且第一次购买域名作为测试使用也就没太多的讲究。</p>
<h2 id="改变域名说明">改变域名说明</h2><p>首先github-pages是支持域名切换的，这是个至关重要。按照<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/" target="_blank" rel="external">github help说明</a>：</p>
<pre><code>我们只需要在仓库根目录下创建一个以`<span class="tag">CNAME</span>`命名的文件，里面写入重定向的域名，然后在<span class="tag">DNS</span>提供商网站（我这里是万网）创建两个`<span class="tag">A</span>`记录分别解析<span class="tag">ip</span>地址：192<span class="class">.30</span><span class="class">.252</span><span class="class">.153</span>和192<span class="class">.30</span><span class="class">.252</span><span class="class">.154</span>；
</code></pre><p>ok, let’s go!</p>
<h2 id="改变域名步骤">改变域名步骤</h2><ol>
<li><p>创建<code>CNAME</code>文件，写入重定向的域名，比如我的显示如下：</p>
<p> labrick.xyz</p>
</li>
<li><p>push到git根目录【在hexo中只要放入source目录，然后执行<code>hexo g; hexo d</code>即可】</p>
</li>
<li>到万网创建解析节点如下：</li>
</ol>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/change-github-pages-domain/domain-list.png" alt="domain-list"><br><img src="http://7xkoxp.com1.z0.glb.clouddn.com/change-github-pages-domain/domain-redirect-record.png" alt="domain-redirect-record"></p>
<h2 id="遇到的问题">遇到的问题</h2><p>上一步走完之后，万网说名是10分钟左右起效，但是我等了半个小时还是解析不成功，很是郁闷，毕竟是第一次使用，总觉得是自己哪一步走的不对，一直在查找万网和github的帮助文档，一遍一遍的检查之前所走的路，并没有什么过错，但是就是不能重定向成功，输入原来的io网址能够重定向到<code>labrick.xyz</code>，但是无法显示正常的网站。</p>
<p>一个偶然的机会我采用了IE尝试访问了一下，竟然进去了，遂怀疑chrome之前缓存内容的关系，清除chrome一周之内的缓存，问题解决。~-~</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Brick" />
          <p class="site-author-name" itemprop="name">Brick</p>
           
              <p class="site-description motion-element" itemprop="description">随风的个人博客 </p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">47</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/labrick" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/lbrick" target="_blank" title="微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  微博
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://douban.com/people/larrybrick" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://zhihu.com/people/larrybrick" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.wowotech.net/" target="_blank" title="蜂窝">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  蜂窝
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2014 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Brick</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"labrick"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  
















  





  

  

  

  

  

</body>
</html>

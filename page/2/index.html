<!doctype html>
<html class="theme-next use-motion ">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="工作实验室">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="工作实验室">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="工作实验室">
<meta name="twitter:description">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

    <title> 工作实验室 </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CH">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column 
   page-home 
">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">工作实验室</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/10/vim-command/" itemprop="url">
                vim基本指令
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-10T12:05:25+08:00" content="2015-08-10">
            2015-08-10
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/linux学习/" itemprop="url" rel="index"><span itemprop="name">linux学习</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="vi的使用">vi的使用</h2><h3 id="vi有三种模式">vi有三种模式</h3><h4 id="一般模式">一般模式</h4><p>打开一个档案就直接一般模式(默认模式)[vi档名]进入一般模式。可以删除、粘贴、复制数据，但不能进行文本编辑。</p>
<p>一般模式按键说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">移动光标的方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">h/←</td>
<td style="text-align:left">光标向左移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">j/↓</td>
<td style="text-align:left">光标向下移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">k/↑</td>
<td style="text-align:left">光标向上移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">l/→</td>
<td style="text-align:left">光标向右移动一个字符</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+f</td>
<td style="text-align:left">屏幕向下移动一页，相当于Page Down按键</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+b</td>
<td style="text-align:left">屏幕向上移动一页，相当于Page Up按键</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+d</td>
<td style="text-align:left">屏幕向下移动半页</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+u</td>
<td style="text-align:left">屏幕向下移动半页</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">光标移动到非空格符的下一列</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">光标移动到非空格符的上一列</td>
</tr>
<tr>
<td style="text-align:left">n&lt;space</td>
<td style="text-align:left">按下数字再按空格键，光标会移动到这一行的n个字符。</td>
</tr>
<tr>
<td style="text-align:left">0或home键</td>
<td style="text-align:left">移动到这一行的最前面字符处</td>
</tr>
<tr>
<td style="text-align:left">$或End键</td>
<td style="text-align:left">移动到这一行的最后面字符处</td>
</tr>
<tr>
<td style="text-align:left">H</td>
<td style="text-align:left">光标移动到这个屏幕的最上方那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">M</td>
<td style="text-align:left">光标移动到这个屏幕的最中央那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">L</td>
<td style="text-align:left">光标移动到这个屏幕的最下那一行的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">G</td>
<td style="text-align:left">移动到这个档案的最后一行</td>
</tr>
<tr>
<td style="text-align:left">nG</td>
<td style="text-align:left">移动到这个档案的第n行</td>
</tr>
<tr>
<td style="text-align:left">gg</td>
<td style="text-align:left">移动到这个档案的第一行</td>
</tr>
<tr>
<td style="text-align:left">n<enter></enter></td>
<td style="text-align:left">光标向下移动n行</td>
</tr>
<tr>
<td style="text-align:left">/word</td>
<td style="text-align:left">光标向下寻找一个名称为word的字符串</td>
</tr>
<tr>
<td style="text-align:left">?word</td>
<td style="text-align:left">向光标之上寻找一个名称为word的字符串</td>
</tr>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">重复前一个搜索动作</td>
</tr>
<tr>
<td style="text-align:left">N</td>
<td style="text-align:left">反向进行前一个搜寻行动</td>
</tr>
<tr>
<td style="text-align:left">:1,n2s/word1/word2/g</td>
<td style="text-align:left">在第n1与n2行之间寻找word1这个字符串，并将该字符串取代为word2</td>
</tr>
<tr>
<td style="text-align:left">:1，$/word1/word2/g</td>
<td style="text-align:left">从第一行到最后一行寻找word1字符串，并将该字符串取代为word2。</td>
</tr>
<tr>
<td style="text-align:left">:1，$/word1/word2/gc</td>
<td style="text-align:left">从第一行到最后一行寻找word1字符串，并将该字符串取代为word2。且在取代前提示字符给用户确认是否需要取代</td>
</tr>
<tr>
<td style="text-align:left">x,X</td>
<td style="text-align:left">在一行字当中，x为向除一个字符，X为向前删除一个字符</td>
</tr>
<tr>
<td style="text-align:left">nX</td>
<td style="text-align:left">连续向后删除你n个字符</td>
</tr>
<tr>
<td style="text-align:left">dd</td>
<td style="text-align:left">删除游标所在的那一整列游标</td>
</tr>
<tr>
<td style="text-align:left">ndd</td>
<td style="text-align:left">删除光标所在的向下n列</td>
</tr>
<tr>
<td style="text-align:left">d1G</td>
<td style="text-align:left">删除光标所在到第一行的所有数据</td>
</tr>
<tr>
<td style="text-align:left">dG</td>
<td style="text-align:left">删除光标所在到最后一行的所有数据</td>
</tr>
<tr>
<td style="text-align:left">d$</td>
<td style="text-align:left">删除游标所在处，到该行的最后一个字符</td>
</tr>
<tr>
<td style="text-align:left">d0</td>
<td style="text-align:left">删除游标所在处，到该行的最前面一个字符</td>
</tr>
<tr>
<td style="text-align:left">yy</td>
<td style="text-align:left">复制游标所在的那一行</td>
</tr>
<tr>
<td style="text-align:left">nyy</td>
<td style="text-align:left">复制光标所在的向下n列</td>
</tr>
<tr>
<td style="text-align:left">y1G</td>
<td style="text-align:left">复制光标所在列到第一列的所有数据</td>
</tr>
<tr>
<td style="text-align:left">yG</td>
<td style="text-align:left">复制光标所在列到最后一列的所有数据</td>
</tr>
<tr>
<td style="text-align:left">y0</td>
<td style="text-align:left">复制光标所在的那个字符到该行首的所有数据</td>
</tr>
<tr>
<td style="text-align:left">y$</td>
<td style="text-align:left">复制光标所在的那个字符到该行尾有数据</td>
</tr>
<tr>
<td style="text-align:left">p,P</td>
<td style="text-align:left">p为将已复制的数据在光标的下一行贴上，P则为贴在游标上一行</td>
</tr>
<tr>
<td style="text-align:left">j</td>
<td style="text-align:left">将光标所在列与下一行的数据结合成同一列</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">重复删除多个数据</td>
</tr>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">复原前一个动作</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+r</td>
<td style="text-align:left">重复上一个动作</td>
</tr>
</tbody>
</table>
<h4 id="编辑模式">编辑模式</h4><p>按下[i, I, o, O, a, A, r, R]等任何一个字母后才会进入编辑模式。</p>
<p>一般模式切换到编辑模式的可用按钮说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">进入插入或取代的编辑模式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">i,I</td>
<td style="text-align:left">进入插入模式，i为从目前光标所在处插入，I为在目前所在行的第一个非空格符处开始插入</td>
</tr>
<tr>
<td style="text-align:left">a,A</td>
<td style="text-align:left">进入插入模式，a为从光标所在的下一字符处开始插入，A为从光标所在行的最后一个字符处开始插入</td>
</tr>
<tr>
<td style="text-align:left">o,O</td>
<td style="text-align:left">进入插入模式，o为在目前光标所在的下一行处插入新的一行，O为在目前光标所在处的上一行插入新的一行</td>
</tr>
<tr>
<td style="text-align:left">r,R</td>
<td style="text-align:left">进入取代模式，r只会取代光标所在的那一个字符一次，R会一直取代光标所在的文字，直到按下ESC为止</td>
</tr>
</tbody>
</table>
<h4 id="指令列命令模式">指令列命令模式</h4><p>在一般模式中，输入[:/?]三个按钮中的任何一个按钮，就可以将光标移动到最底下那一行。在这个模式中，可以提供搜寻资料的动作，可以完成读取、存盘、大量取代字符、离开vi[:wq]显示行号等动作。</p>
<p>三种模式只有以按摩时可以与编辑模式、指令列模式切换。</p>
<p>一般模式切换到指令列模式的可用按钮说明：</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">指令列的储存、离开等指令</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">:w</td>
<td style="text-align:left">将编辑的数据写入硬盘档案中</td>
</tr>
<tr>
<td style="text-align:left">:w!</td>
<td style="text-align:left">若文件属性为只读写入该档案，能不能写入要看该档案的档案权限</td>
</tr>
<tr>
<td style="text-align:left">:q</td>
<td style="text-align:left">离开vi</td>
</tr>
<tr>
<td style="text-align:left">:q!</td>
<td style="text-align:left">若曾修改过档案，又不想储存，使用！为强制离开不储存档案</td>
</tr>
<tr>
<td style="text-align:left">:wq</td>
<td style="text-align:left">储存后离开，若为：wq!则为强制储存后离开</td>
</tr>
<tr>
<td style="text-align:left">ZZ</td>
<td style="text-align:left">若档案没有更动，则不储存离开，若档案已被更动过，则储存后离开</td>
</tr>
<tr>
<td style="text-align:left">:w[filename]</td>
<td style="text-align:left">将编辑的数据储存成另一个档案</td>
</tr>
<tr>
<td style="text-align:left">:r[]filename]</td>
<td style="text-align:left">在编辑的数据中，读入另一个档案的数据，即将[filename]这个档案内容加到游标所在行后面</td>
</tr>
<tr>
<td style="text-align:left">:n1,n2 w [filename]</td>
<td style="text-align:left">讲n1到n2的内容储存成filename这个档案</td>
</tr>
<tr>
<td style="text-align:left">:! Command</td>
<td style="text-align:left">暂时离开vi到指令列模式下执行command的显示结果</td>
</tr>
<tr>
<td style="text-align:left">:set nu</td>
<td style="text-align:left">显示行号，设定之后，会在每一行的前缀显示该行的行号</td>
</tr>
<tr>
<td style="text-align:left">:set nonu</td>
<td style="text-align:left">与set nu相反，为取消行号</td>
</tr>
</tbody>
</table>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/09/difference-between-ttl-and-rs232/" itemprop="url">
                TTL电平与RS232电平的区别
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-09T03:45:33+08:00" content="2015-08-09">
            2015-08-09
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/颇有技术含量/" itemprop="url" rel="index"><span itemprop="name">颇有技术含量</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="背后的故事">背后的故事</h2><p>最近在调试全志A20的一块板子，找了个视频通话的安卓源码想在其上运行，但是一旦软件执行视频通话功能就会死掉，而在普通的手机里都能正常运行，所以就像看一下它的UART输出是怎样的，接着就去接A20的UART的。</p>
<p>面对实验室的条件只能说无语。没有串口线怎么搞？后来我从606拿过来两根，一根试了半天还不能用，恶心，另一根则是个锈迹斑斑的，插个杜邦线插的手疼，终于搞定电路问题后发现输出都是乱码？这个怎么理解？</p>
<h2 id="原因分析">原因分析</h2><p>串口出现乱码可能是因为哪些原因呢？出现了乱码基本可以判断com口正确。其他可能原因如下：</p>
<ol>
<li>驱动不对</li>
<li>串口和驱动的配置不对应（波特率、起始位、校验位、停止位）</li>
<li>串口调试助手的文字编码格式不对</li>
<li>数据线接触不良</li>
<li>电平逻辑不对</li>
</ol>
<p>对于现在调的这块板子，驱动是全志做在系统中的，他们都是经过细心调试，而且时刻在用的工具，驱动应该没有问题，设置是按照全志提供的参数进行配置应该也没有问题。</p>
<p>对于串口调试助手我采用了两个，一个是友善的串口，里面没有对编码设置的情况，输出是乱码，另一个采用secureCRT，默认和utf-8都试了下，效果没有得到改善。</p>
<p>数据线接触不良的情况是全志的一位同事提出的，我没有遇到过这种情况，由于线比较老，不能排除这一点，但是我已经尽自己最大的努力让数据线接触良好，所以基本也可以排除。</p>
<p>最后就剩下一个电平逻辑不对。我为什么会怀疑这个问题呢？因为我看到SMDT论坛上说明UART的测试方法如下：</p>
<pre><code><span class="number">1</span>. 先短路板子上的UART－TX和UART－RX，用<span class="keyword">ANDROID上的串口测试程序，采用自发自收的测试方式，是否能正常的数据通信
</span><span class="number">2</span>. 再连接好<span class="preprocessor">TTL</span>－RS232串口板，再短路串口板后端，再采用串口工具，同样的方式，测试是否正常
<span class="number">3</span>. 再连接好外部设备，设置好波特率，串口号（一般为ttySx），测试是否正常
<span class="number">4</span>.如果还是存在问题，可以先用<span class="literal">PC</span>来测试外部设备是否能正常通信的，如果是完全OK的，应该是设置波特率和串口号出问题，或者是<span class="number">232</span>串口到外部设备这端需要把TX和RX交叉
</code></pre><p>这样就很明白问题所在。</p>
<p>这里有个问题：我采用RS232对接TTL为什么会产生乱码呢？</p>
<h2 id="TTL与RS232的区别">TTL与RS232的区别</h2><p>我们再加上一个CMOS电平，看看下面的表格:</p>
<table>
<thead>
<tr>
<th style="text-align:left">电平名称</th>
<th style="text-align:left">输出L</th>
<th style="text-align:left">输出H</th>
<th style="text-align:left">输入L</th>
<th style="text-align:left">输入H</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TTL</td>
<td style="text-align:left">&lt;0.8V</td>
<td style="text-align:left">&gt;2.4V</td>
<td style="text-align:left">&lt;1.2V</td>
<td style="text-align:left">&gt;2.0V</td>
</tr>
<tr>
<td style="text-align:left">RS232</td>
<td style="text-align:left">+3~+15V</td>
<td style="text-align:left">-3~-15V</td>
<td style="text-align:left">+3~+15V</td>
<td style="text-align:left">-3~-15V</td>
</tr>
<tr>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">&lt;0.1*Vcc</td>
<td style="text-align:left">&gt;0.9*Vcc</td>
<td style="text-align:left">&lt;0.3*Vcc</td>
<td style="text-align:left">&gt;0.7*Vcc</td>
</tr>
</tbody>
</table>
<h3 id="TTL与RS232">TTL与RS232</h3><p>我们先看TTL与RS232两行，现在我们A20板子上的输出是TTL电平，然后我采用RS232接口进行衔接（GND—GND | TXD—RXD | RXD—TXD），看看会出现什么结果：</p>
<p>TTL输出<0.8v为低电平（应该不会为负），rs232则进行检测这个电压接近于0v，这样是无效？？如果ttl输出>2.4V，RS232检测这个电压最有可能为逻辑<code>0</code>，这样的结果也就是说RS232只能将TTL输出的高电平检测为低电平，TTL输出的低电平作为无效，这样为什么会出现乱码呢？</0.8v为低电平（应该不会为负），rs232则进行检测这个电压接近于0v，这样是无效？？如果ttl输出></p>
<p>有两种可能：</p>
<ol>
<li>停止位设置为<code>0</code>，这样可能停止，就可以正常接收乱码数据，如果都是<code>0</code>数据应该也比较有规律，从乱码来看，这个是不正确的。</li>
<li>RS232将TTL &lt;0.8V的低电平检测为RS232的高电平，这样也就是和RS232和TTL的电平完全反过来进行接受，完全乱码，这样是很有可能的，就是我的这个假设是否成立不确定。</li>
</ol>
<pre><code>我们通常说的UART串口的RXD、TXD等一般直接与处理器芯片的引脚相连，其为TTL电平，而RS<span class="number">232</span>串口的RXD、TXD等一般需要经过电平转换<span class="comment">(通常由Max232等芯片进行电平转换)</span>才能接到处理器芯片的引脚上，否则这么高的电压很可能会把芯片烧坏。<span class="comment">(事实上我就是这样接的，没有烧坏芯片，反而是出现乱码)</span>
我们平时所用电脑的串口是RS<span class="number">232</span>的，当我们在做电路工作时，应该注意下外设的串口是UART类型的还是RS<span class="number">232</span>类型的，如果不匹配，应当找个转换线<span class="comment">(通常这根转换线内有块类似于Max232的芯片做电平转换工作的)</span>，可不能盲目地将两串口相连。
</code></pre><h3 id="TTL与CMOS">TTL与CMOS</h3><ol>
<li>电平的上限和下限定义不一样，CMOS具有更大的抗噪区域。同是5伏供电的话，TTL一般是1.7V和3.5V的样子，CMOS一般是2.2V,2.9V的样子，不准确，仅供参考。</li>
<li>电流驱动能力不一样，TTL一般提供25毫安的驱动能力，而CMOS一般在10毫安左右。</li>
<li>需要的电流输入大小也不一样，一般ttl需要2.5毫安左右，CMOS几乎不需要电流输入。</li>
<li>很多器件都是兼容TTL和CMOS的，datasheet会有说明。如果不考虑速度和性能，一般器件可以互换。但是需要注意有时候负载效应可能引起电路工作不正常，因为有些ttl电路需要下一级的输入阻抗作为负载才能正常工作。</li>
</ol>
<p>TTL和CMOS的逻辑电平转换<br>CMOS电平能驱动TTL电平，TTL电平不能驱动CMOS电平，需加上拉电阻。</p>
<h3 id="常用逻辑芯片特点">常用逻辑芯片特点</h3><table>
<thead>
<tr>
<th style="text-align:left">系列</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">输入</th>
<th style="text-align:left">输出</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">74LS系列</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">TTL</td>
</tr>
<tr>
<td style="text-align:left">74HC系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
</tr>
<tr>
<td style="text-align:left">74HCT系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">TTL</td>
<td style="text-align:left">CMOS</td>
</tr>
<tr>
<td style="text-align:left">CD4000系列</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
<td style="text-align:left">CMOS</td>
</tr>
</tbody>
</table>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/08/lab/what-did-i-learn-in-zhihu/" itemprop="url">
                这些年我在知乎都学到了什么
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-08T11:13:25+08:00" content="2015-08-08">
            2015-08-08
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="我与知乎">我与知乎</h2><p>我是知乎很普通的一名用户，但是知乎却是我喜欢的第一个网站，从10年的第一次接触就觉得她与众不同，能够带给我不凡的经历，给我的生活与心态带来翻天覆地的变化，所以从第一次接触知乎之后我就在向周围的同学朋友推荐或者说是介绍知乎，如果说知乎想要用户之间的品牌传播，我相信应该不只是我在做这一步，或许这就是一个好的产品的见证。</p>
<h2 id="接触正题">接触正题</h2><h3 id="世界观的认知">世界观的认知</h3><p>在认识知乎之前，我对这个世界缺少感触，缺少对人、对事的思考，一旦一个人问对这件事是什么态度，有什么想法？一片空白，没有任何想法。在平常的生活中缺乏对周围实物的认知是一件非常可怕的事情，这是说我们已经没有思考，王小波说：世间最美好的莫过于思考</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/05/change-github-pages-domain/" itemprop="url">
                改变github-pages的域名
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-05T05:01:10+08:00" content="2015-08-05">
            2015-08-05
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/突发奇想的小玩意/" itemprop="url" rel="index"><span itemprop="name">突发奇想的小玩意</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="背景介绍">背景介绍</h2><p>从N年前开始我就一直梦想着拥有一个自己可以掌握全部权限的博客网站，去年学python折腾了一下Django，两个月前突发奇想折腾了一下各种空间，然后一位好友推荐github pages中的jekyll，又扑腾了一番，做了个简单点demo，但是感觉有点复杂，而且被我改的乱七八杂，奇丑无比，不过确实从其中了解了什么是jekyll？那么多的文件是怎么组织起来的？也为现如今的hexo打下了基础。</p>
<p>注：hexo用起来真心简单，对于一个需要长期坚持的事情来说，简单才是真理。</p>
<h2 id="建站之后">建站之后</h2><p>配置了百度的统计，百度站内搜索（看到要备案就流产了），多说评论系统，另外加入我的一些基本的链接，但是域名一直没有购买。上午闲来无事，突发奇想的去看看域名，在万网、godaddy都搜索了一下，比较了一下价格还是选择了万网的域名，相比较来说便宜很多，而且第一次购买域名作为测试使用也就没太多的讲究。</p>
<h2 id="改变域名说明">改变域名说明</h2><p>首先github-pages是支持域名切换的，这是个至关重要。按照<a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/" target="_blank" rel="external">github help说明</a>：</p>
<pre><code>我们只需要在仓库根目录下创建一个以`<span class="tag">CNAME</span>`命名的文件，里面写入重定向的域名，然后在<span class="tag">DNS</span>提供商网站（我这里是万网）创建两个`<span class="tag">A</span>`记录分别解析<span class="tag">ip</span>地址：192<span class="class">.30</span><span class="class">.252</span><span class="class">.153</span>和192<span class="class">.30</span><span class="class">.252</span><span class="class">.154</span>；
</code></pre><p>ok, let’s go!</p>
<h2 id="改变域名步骤">改变域名步骤</h2><ol>
<li><p>创建<code>CNAME</code>文件，写入重定向的域名，比如我的显示如下：</p>
<p> labrick.xyz</p>
</li>
<li><p>push到git根目录【在hexo中只要放入source目录，然后执行<code>hexo g; hexo d</code>即可】</p>
</li>
<li>到万网创建解析节点如下：</li>
</ol>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/change-github-pages-domain/domain-list.png" alt="domain-list"><br><img src="http://7xkoxp.com1.z0.glb.clouddn.com/change-github-pages-domain/domain-redirect-record.png" alt="domain-redirect-record"></p>
<h2 id="遇到的问题">遇到的问题</h2><p>上一步走完之后，万网说名是10分钟左右起效，但是我等了半个小时还是解析不成功，很是郁闷，毕竟是第一次使用，总觉得是自己哪一步走的不对，一直在查找万网和github的帮助文档，一遍一遍的检查之前所走的路，并没有什么过错，但是就是不能重定向成功，输入原来的io网址能够重定向到<code>labrick.xyz</code>，但是无法显示正常的网站。</p>
<p>一个偶然的机会我采用了IE尝试访问了一下，竟然进去了，遂怀疑chrome之前缓存内容的关系，清除chrome一周之内的缓存，问题解决。~-~</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/04/connect-host/" itemprop="url">
                多台电脑搭建文件共享系统
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-04T02:17:04+08:00" content="2015-08-04">
            2015-08-04
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/工作记录/" itemprop="url" rel="index"><span itemprop="name">工作记录</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="背景介绍">背景介绍</h2><p>实验室的网络环境早已搭建完毕，由于时间的问题一直没有总结记录一下，现在就现在四台服务器构建的文件共享系统大概说明一下，记录以留作以后的查询</p>
<h2 id="文件共享系统需求说明">文件共享系统需求说明</h2><ol>
<li>希望四台主机的硬盘以目录的形式进行显示，并可以随意修改目录名称</li>
<li>四台主机构建的目录能够使计算机(win, linux, mac)不需要任何软件就可以直接访问</li>
<li>要方便扩展，容易增加其他的主机到该系统当中</li>
<li>在顶级目录形成目录列表，并以时间顺序排序自动更新目录结构，方便查看共享文件系统中的目录结构自己存储情况</li>
</ol>
<h2 id="实现思想">实现思想</h2><p>多台主机构建共享文件系统首先可以想到NFS服务器文件系统，然后用脚本进行相互挂载，但被挂在的目录是不能轻易修改名字的，所以NFS可以满足需求1的前半部分，但不能满足后半部分。</p>
<p>需求2我们可以在其中一台主机上采用samba服务器来实现，让其共享NFS共享的上层目录，但还没解决修改名字的问题。</p>
<p>我们可以想到ln指令链接的文件可以随意修改名称，而不变动被链接的文件，利用这一点，我们是不是可以采用samba服务器共享一个空目录，然后将NFS共享的目录链接到上述空目录中呢？经过查阅，我们可以发现samba其中有个设置是可以追踪链接的，如果这样设置是不是直接就解决了需求1/2了？恩恩！是的，这样已经运行通过。</p>
<p>这样做可扩展性如何呢？这就要看增加一台主机我们需要做哪些工作：</p>
<ol>
<li>为新增加的主机配置NFS服务</li>
<li>在有samba服务器主机上的挂载脚本中添加挂载新增加的主机，并挂载该主机</li>
<li>将新挂载的目录链接到samba共享目录中</li>
<li>Over</li>
</ol>
<p>不是太麻烦吧～…～</p>
<p>对于需求4，如果不需要自动更新只需要一条指令就可以解决：</p>
<pre><code>cd <span class="escape">`要</span>更新的目录<span class="escape">`
</span>tree -dtl -L <span class="number">4</span> &gt; 目录结构.txt
</code></pre><p>要求了自动更新就可以写一个守护进程，定时调用上面的指令，对于守护进程的写法可以参考<a href="/2015/07/31/monitor-prototype/">这篇博文</a>。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/01/what-i-think-when-running/" itemprop="url">
                当我跑步时我想些什么
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-01T09:36:39+08:00" content="2015-08-01">
            2015-08-01
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/让生活更上一层楼/" itemprop="url" rel="index"><span itemprop="name">让生活更上一层楼</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="传说中的模板原型">传说中的模板原型</h2><p>《当我谈跑步时我谈些什么》是我读的第一本村上君的书，离今天相差一个月到一年，那时我还徘徊在工大教室和食堂之间的柏油路上，过着简单而充实的生活。村上君的很多思想到现在还在深深的影响这我，当时读完后，我连续发了两篇微博：</p>
<pre><code>第一次读村上君的书，还是一位姐姐推荐的，或许和我的生活有关吧，跑步！这种生活哲学类的书我不怎么喜欢，像那悟空传，匆匆看过不知所云，这本书可以说是我读生活哲学书的开始，走在路上慢慢琢磨还别有一番滋味，虽不像小说有血有肉，形象鲜明，但和生活的结合使其具有更高的价值。
读完给我印象最深的莫过于：先天的东西容易耗尽或者丢失，后天锻炼所得东西容易切换从而导致用之不竭，我深感这句话符合我心意，想我等愚笨之人，别人很轻易表现的优点，我等需要先观察发现，再改造为我所用！虽缓慢而艰难点，但终有其优势所在<span class="attribute">...</span><span class="attribute">...</span>
</code></pre><p>这本书确实很值得阅读。</p>
<h2 id="最近的跑步情况">最近的跑步情况</h2><p>来到无锡，刚开始跑步还是比较多的，可以说学校周围方圆五公里以内的康庄大道基本都留下了我的记忆（还没有强壮到留下脚印），然后再找不到合适的未跑路线，所谓柳暗花明又一村，时机送来了一张一卡通，可以顺利的进入学校的健身房，虽然设备短缺简陋点，但还是可以凑合，所以跑步就更少了。最近两天又有点坐着不舒服，于是又想起来去跑步这回事，话说距上次跑步正好一个月。时间一久，跑步都不在顺畅，所以也只是跑了个五公里左右。</p>
<p>所以呢，这里说的是一般的情况，并不以今天为例。</p>
<h2 id="前十分钟">前十分钟</h2><p>十分钟近两公里，这个时候基本处于跑步的兴奋状态，因为可以终于从几天（无规律跑步，随心情）的繁琐生活当中脱离出来，开始洒脱的让思想纷飞，之后开始整理分析评估自己的生活问题，让生活的片段快速的头脑中飞过，什么我这几天的心情如何，有没有变得非常浮躁，该做的事情有没有做完，没做的有什么计划等等有关自己的，还有最近周围的环境如何，有没有什么需要改进的地方，需要什么方法来解决问题，当然还会想一些社交方面的：我说的某句话有没有伤害到别人等等，都是生活的中的一些小事。</p>
<p>但是，就是通过这种方式可以让我留意平时不怎么注意的地方，解决当时无法解决的问题，想出某些问题更为合理的解决方法。当然更多的是原来无解。</p>
<h2 id="第二个十分钟">第二个十分钟</h2><p>这个过程处于有关运动的思想纷飞。想到《当我谈跑步时我谈些什么》中村上君有关跑步的哲学，每周70公里的习惯，炎热夏天100公里的跑步记录，几乎不错过任何马拉松比赛；《运动改造大脑》和知乎周刊中众多运动心理学的内容：运动会创造新的脑细胞，可以增加神经递质，加粗神经突出等等也会不断的大脑中闪现。</p>
<p>这些思考导致我真的感觉到我的脑细胞在不断的创造发育生长，一直沉浸在这些这样的思考、感受之中，等我醒来顿时感觉第二个十分钟已经过去。</p>
<h2 id="第三个十分钟">第三个十分钟</h2><p>这个十分钟跑起来已经不是像前两个十分钟那么惬意了，想的最多的就是：淡定，淡定，我要调整呼吸。这个阶段用的最多的就是知乎周刊中有关健身的知识：努力向外吐气，保持心态的平衡，不要太激进，要淡定，不要说话，不要乱动，保持简单的姿势，减少精力的损失。</p>
<p>不过可以留意一下沿途的风景，让自己的内心更好的趋于平静。另外想的最多的就是我要跑到十公里，这个过程是必须要经历的，无论如何都要坚持下去，等待着腿脚麻木僵硬的到来。</p>
<h2 id="第四个十分钟">第四个十分钟</h2><p>跟随上一个十分钟，这个过程会更加的难熬，但是离腿脚麻木，没有直觉已经不远了，不断的给自己加油，用力甩起胳膊来带动身体（这个也是村上君跑100公里里的经验），努力调整呼吸。</p>
<p>努力让自己想一些自己平常的生活，想一些能让自己沉浸其中的内容，努力让自己看周围移动着的风光，但是也只是提示自己要这样做，事实上这个时候的大脑已经不再听从自己的意识，如果之前没有调整好呼吸，这里也就会很难坚持下去。</p>
<p>总的来说这个时候已经没有了思维，简单点的想法就是：让跑步坚持下去。</p>
<h2 id="之后的情况">之后的情况</h2><p>跑步的后期，基本就没有了思维，简单点的就是：我很快就可以达到十公里，而且已经处于双腿带动双脚进行简单的机械运动状态，前期调整的还好，并没有感觉特别的疲惫，我可以这样一直的跑下去，直到身体能量趋于耗尽。</p>
<p>偶尔会想到村上君《谈跑步》中，一个长跑运动员比赛完毕后，被记者问跑步后期都是在想些什么的问题，长跑运动员说：我TM就是想尽快跑完全程，尽快休息，哪还有精力想别的问题。</p>
<p>这TM的说的真对。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/31/monitor-prototype/" itemprop="url">
                后台进程监控软件
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-31T09:20:18+08:00" content="2015-07-31">
            2015-07-31
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/突发奇想的小玩意/" itemprop="url" rel="index"><span itemprop="name">突发奇想的小玩意</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="回顾历史">回顾历史</h2><p>依稀记得大一时看过一部黑客小说，其中有个细节给我的印象颇深：比赛作品中有个计算机扫描软件，主人公大黑客说，对大学生来说其中的技术含量很高，其需要对计算机有一个很好的认识。对当年电脑小白的我来说，那只是给我提了个醒，以后要留意这方面的信息，先把大概的思路理清楚。</p>
<h2 id="程序来源">程序来源</h2><p>实验室各种网络环境基本已经搭建完毕，我们都是在各自的电脑上通过ssh服务远程登陆到四台主机，但我们还是一个问题：通常我们要跑的程序时间都比较长（三四天），如果我们通过远程连接软件在主机中启动程序，一旦关闭远程连接软件，相应的程序也会自动关闭，达不到在服务器上跑程序的目的，问题出来了，就要着手解决啊，所以我就写了个deamon程序来达到这个目的。</p>
<p>写出来之后发现这就是个对程序进行监控的程序啊，只要能够获得程序运行时的状态就可以随意进行程序控制。其实这个程序可以干更多的事情，你可以想象驻留内存有多么大的优势存在。</p>
<h2 id="具体程序">具体程序</h2><p>这里是用启动teamviewer作为一个示例，想要启动其他程序可以直接修改system中的参数，或者给该程序一个参数，再者就是让其调用一个shell脚本，然后在shell脚本中写入你想做的事情。</p>
<pre><code><span class="preprocessor">#<span class="keyword">include</span>&lt;stdio.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;stdlib.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;string.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;fcntl.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;sys/types.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;unistd.h&gt;</span>
<span class="preprocessor">#<span class="keyword">include</span>&lt;sys/wait.h&gt;</span>

<span class="preprocessor">#<span class="keyword">include</span> &lt;time.h&gt;</span>

<span class="preprocessor">#<span class="keyword">define</span> MAXFILE        65535</span>

<span class="preprocessor">#<span class="keyword">define</span>    APP_START    0</span>
<span class="preprocessor">#<span class="keyword">define</span> APP_END        1</span>

<span class="keyword">volatile</span> <span class="keyword">sig_atomic_t</span> _running = <span class="number">1</span>;
<span class="function"><span class="keyword">int</span> <span class="title">write_log</span><span class="params">(<span class="keyword">int</span> log_id)</span></span>;

<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span>
</span>{
    <span class="keyword">pid_t</span> pc,pid;        <span class="comment">//创建两个进程的pid变量</span>
    <span class="keyword">int</span> i;
    pc = fork(); <span class="comment">//第一步，创建子进程</span>

    <span class="keyword">if</span>(pc&lt;<span class="number">0</span>)
    {
        <span class="built_in">printf</span>(<span class="string">"error fork\n"</span>);
        <span class="built_in">exit</span>(<span class="number">1</span>);
    }
    <span class="keyword">else</span> <span class="keyword">if</span>(pc&gt;<span class="number">0</span>)
        <span class="built_in">exit</span>(<span class="number">0</span>);

    pid = setsid(); <span class="comment">//第二步[1],创建一个新的会话,1）让进程摆脱原会话的控制；2）让进程摆脱原进程组的控制；3）让进程摆脱控制终端的控制</span>

    <span class="keyword">if</span> (pid &lt; <span class="number">0</span>)
        perror(<span class="string">"setsid error"</span>);
    chdir(<span class="string">"/"</span>); <span class="comment">//第三步</span>
    umask(<span class="number">0</span>); <span class="comment">//第四步，收回父进程资源</span>
    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;MAXFILE;i++) <span class="comment">//第五步</span>
        close(i);

    <span class="keyword">while</span>( _running )
    {    

        write_log(APP_START);
        system(<span class="string">"teamviewer"</span>);
        write_log(APP_END);

        _running = <span class="number">0</span>;
        usleep(<span class="number">10</span>*<span class="number">1000</span>); <span class="comment">//10毫秒</span>
        usleep(<span class="number">1000</span>*<span class="number">1000</span>); <span class="comment">//1秒</span>
    }
    <span class="keyword">return</span> <span class="number">0</span>;
}

<span class="function"><span class="keyword">int</span> <span class="title">write_log</span><span class="params">(<span class="keyword">int</span> log_id)</span>
</span>{
    <span class="keyword">char</span>* buf;
    <span class="keyword">time_t</span> rawtime;
    <span class="keyword">struct</span> tm * timeinfo;
    <span class="keyword">int</span> len,fd;

    <span class="keyword">if</span>( (fd=open(<span class="string">"home/lab302/yanan/bin/log/teamviewer.log"</span>,O_CREAT|O_WRONLY|O_APPEND,<span class="number">0600</span>))&lt;<span class="number">0</span>)
    {
        perror(<span class="string">"open"</span>);
        <span class="built_in">exit</span>(<span class="number">1</span>);
    }
    time( &amp;rawtime );
    timeinfo = localtime ( &amp;rawtime );
    buf = asctime(timeinfo);
    len = <span class="built_in">strlen</span>(buf);
    write(fd,buf,len);

    <span class="keyword">if</span>(APP_START == log_id)
    {
        buf = <span class="string">"        teamviewer started!\n"</span>;
    }<span class="keyword">else</span>{
        buf = <span class="string">"        teamviewer closed!\n"</span>;
    }

    len = <span class="built_in">strlen</span>(buf);
    write(fd,buf,len);
    close(fd);
    <span class="keyword">return</span> <span class="number">0</span>;
}
</code></pre><h2 id="2015-8-3更新">2015-8-3更新</h2><p>现在发现linux自带的有两种工具可以实现脱离终端运行程序：</p>
<ol>
<li><p>nohub命令：其将标准输出重定向到当前目录下的nohub.out文件中，指令格式如下：</p>
<p> nohub 命令        //当前终端不能再执行其他指令，可以关闭终端<br> nohub 命令&amp;        //可以直接按<code>enter</code>键回到终端命令模式执行其他指令</p>
</li>
<li><p>tmux工具：可能是谁写的一个工具，常见的命令如下：</p>
</li>
</ol>
<p>标准终端下下：</p>
<pre><code>tmux    <span class="comment">//新建一个tmux终端</span>
tmux <span class="keyword">ls</span>    <span class="comment">//显示已经存在的tmux终端</span>
tmux attach-session -t 窗口号    <span class="comment">//打开之前创建的tmux终端</span>
</code></pre><p>tmux终端下：</p>
<pre><code>Ctrl-b再按<span class="keyword">d</span>        <span class="comment">//该tmux终端隐藏运行</span>
Ctrl-<span class="keyword">d</span>            <span class="comment">//直接退出tmux终端</span>
<span class="keyword">exit</span>            <span class="comment">//同上</span>
标准中下其他指令
</code></pre></span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/30/startup-zhihu/" itemprop="url">
                《创业时，我们在知乎聊什么》读后感
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-30T21:35:07+08:00" content="2015-07-30">
            2015-07-30
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/有关读书的那些事/" itemprop="url" rel="index"><span itemprop="name">有关读书的那些事</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="本书介绍">本书介绍</h2><p>当今知名问答社区“知乎”出的第一本书，采用前所未有的互联网众人合作的方式，经整理而成书，里面记录了有名望的产品经理、风险投资人、经验丰富的创业者等等人对创业前中后期的见解，给初来乍到的创业新人提出可能遇到的问题以及大概的解决方案。</p>
<h2 id="书本背后我的故事">书本背后我的故事</h2><p>我是知乎的早期用户，喜欢知乎“发现更大世界”的理念，喜欢每一个问题都认真对待的社区氛围，并且知乎在切实的改变着我的思想轨迹，我的生活道路。谈回本书，从互联网来，自然充满了互联网的韵味，其创业的主题吸引着深处电子-互联网领域，热衷于创业的我，所以早期这本书就安排在了我的阅读计划中，不过直到如今才得以拜读，由于生活学习中事情比较多，大概花了一周的时间才阅读完毕。</p>
<h2 id="读之后的感受">读之后的感受</h2><p>读时浑浑噩噩，看不到首位，读后大脑一片空白，整本书不成系统，这或许是互联网书籍的一个致命缺陷。</p>
<p>我们可以想象：知乎在周源和创新工场的共同呵护之下长大，知乎作为一个问答社区，上线首先要解决的就是社区活跃度的问题，这个问题由于有创新工场的存在，有李开复的存在可以很好的解决，很自然的就会鼓励周鸿祎、张小龙、王小川等等人来知乎社区探讨问题，一边测试知乎，一边为知乎增加活跃度，当然还有一边方便他们之间进行相互的交流，质量很自然的就会达到优质的水平。</p>
<p>这里的问题在哪？他们的主要目的是来增加活跃度的，所以大家也基本都在叙述自己在各个问题面前的立场，没有真正的争辩、论证，相当于没事过来写些随笔，并不深入，加上各方言论，更显得连贯性不足，整体读起来不知所云。而传统书籍的作者对待他们缩写的书如同自己的孩子，认真对待，百般呵护，孩子遇到问题，查找各种资料来进行解决论证，充满着作者自身的逻辑性，更容易让读者读懂其中的审深意。</p>
<p>当然，抱着一种“任何书都能发现它的价值”的观点来这本书，其也充满着价值。</p>
<p>首先书籍成型的形式：首次采用互联网合作完成，这种形式是一种完全的创新，设想对于同一主题集百家言论而成书，让读者更透彻的了解一个问题。但是如果每个人都不能深入，读者也只能了解一个大概，并不能实际的深入其中，这可能也是互联网成书后续要解决的问题。</p>
<p>再次是书籍的内容：我浏览过知乎所有的周刊和部分付费刊物，可以深刻体会到那些记不住的内容对自身思想的影响。其实所谓记不住，也可以说是虚，但也可以说是大方向，一方面是大方向容易说，另一方面是只有大方向对，后续的道路才能够容易的多，这或许也是大部分过来人喜欢讲大方向的原因。当然也存在大量记得住的内容影响更甚，比如本书中的创业需要考虑的诸多问题，种子期的方向问题、助跑期的融资问题、起步期的管理问题等等，这些我们只需要有一个大概了解，当我们真正去做创业这件事时能想到有这些问题的存在就是好的。</p>
<h2 id="总结">总结</h2><p>整体来说，这本书略微有点让我失望，有个朋友有创业的想法，我曾向他推荐过这本书，今天看过之后感觉其中空泛的内容偏多，并不是最合理的创业书籍。不过身处创业路上的朋友随手翻翻，反思一下自己的路却是个很好的选择。</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/29/bash-learning/" itemprop="url">
                bash学习笔记
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-29T08:56:26+08:00" content="2015-07-29">
            2015-07-29
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/linux学习/" itemprop="url" rel="index"><span itemprop="name">linux学习</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="文档更新记录">文档更新记录</h2><table>
<thead>
<tr>
<th style="text-align:left">版本</th>
<th style="text-align:left">更新时间</th>
<th style="text-align:left">更新人</th>
<th style="text-align:left">更新内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">V0.1</td>
<td style="text-align:left">2015-07-26</td>
<td style="text-align:left">孙凤影</td>
<td style="text-align:left">bash shell学习笔记整理</td>
</tr>
</tbody>
</table>
<h2 id="系统的合法shell与/etc/shells功能">系统的合法shell与/etc/shells功能</h2><h2 id="Bash_shell_的功能">Bash shell 的功能</h2><h3 id="命令编修能力">命令编修能力</h3><p>通常用户在bash下输入命令时不必把命令输全，shell就能判断出你所要输入的命令。该功能的核心思想是：bash根据用户已输入的信息来查找以这些信息开头的命令，从而试图完成当前命令的输入工作。用来执行这项功能的键是Tab键，按下Tab键后，bash就试图完成整个命令的输入，并将列出所有能够与当前输入字符相匹配的命令列表。</p>
<h3 id="命令与档案补全功能">命令与档案补全功能</h3><h3 id="命令别名设定功能">命令别名设定功能</h3><p>别名是bash中用来节省时间的另一项重要功能，它允许用户按照自己喜欢的方式对命令进行自定义。</p>
<p>别名的创建：alias接命令，例：</p>
<pre><code>alias <span class="keyword">lm</span>=‘<span class="keyword">ls</span> -<span class="keyword">al</span>’
</code></pre><p>别名的取消：用unalias 取消别名，例：</p>
<pre><code><span class="built_in">unalias</span> lm
</code></pre><h3 id="工作控制、前景背景控制">工作控制、前景背景控制</h3><h3 id="程序化脚本（简单）">程序化脚本（简单）</h3><h3 id="通配符">通配符</h3><p>通配符<code>*</code>的常用方法就是查找具有相同扩展名的文件，比如：</p>
<pre><code>ls *<span class="class">.tar</span><span class="class">.gz</span>
</code></pre><p>通配符<code>*</code>有时可以将几百的命令缩短成一个命令。</p>
<pre><code><span class="title">rm</span> -f <span class="regexp">*.jpg</span>
</code></pre><p>问号通配符<code>?</code>必须匹配一个且只能匹配一个字符，通常用来查找比<code>*</code>更为精确的匹配。</p>
<pre><code>ls <span class="keyword">*</span>.???
</code></pre><h2 id="Bash_shell的内建命令：type">Bash shell的内建命令：type</h2><p>查询是否是bash内部命令：type -t 命令名</p>
<pre><code><span class="type">file</span> <span class="comment">--外部命令；</span>
<span class="type">alias</span> <span class="comment">--命令别名；</span>
builtin <span class="comment">--内部命令</span>
</code></pre><h2 id="指令的下达">指令的下达</h2><h2 id="变量的取用与设定">变量的取用与设定</h2><pre><code><span class="built_in">echo</span> <span class="variable">$PATH</span>
<span class="built_in">echo</span> <span class="variable">${PATH}</span>
</code></pre><h3 id="变量设计规则">变量设计规则</h3><ol>
<li>环境变量大写，私有变量小写：变量名称只能是字母与数字，开头字符不能是数字</li>
<li>变量与内容以”=”连接，等号两边不能空格；变量内容若有空格可是有””or’’括起</li>
<li>区分”” 与’’的使用，前者保留特性，后者内的特殊字符仅为一般字符unset </li>
<li><p>变量内容可以是命令提供的信息</p>
<p> version=<code>uname -r</code> or<br> version=$(uname -r)</p>
</li>
<li><p>变量可以累加内容：PATH=”$PATH”:/home/bin</p>
</li>
<li>自定义变量变成环境变量：export mypath</li>
</ol>
<h2 id="环境变量的功能：env_不常见环境变量说明,_set,_export">环境变量的功能：env 不常见环境变量说明, set, export</h2><ul>
<li>HOME：代表home目录，cd /home 即取用这个变量</li>
<li>SHELL：告知目前环境使用的shell是哪支程序</li>
</ul>
<p>/etc/shells:系统中可用的shell版本</p>
<pre><code>/bin/sh
/bin/bash
/sbin/nologin …
/etc/passwd <span class="symbol">:</span> 当前用户默认采用哪个shell来工作
<span class="symbol">root:</span><span class="symbol">x:</span><span class="number">0</span><span class="symbol">:</span><span class="number">0</span><span class="symbol">:root</span><span class="symbol">:/root</span><span class="symbol">:/bin/bash</span>
<span class="symbol">bin:</span><span class="symbol">x:</span><span class="number">1</span><span class="symbol">:</span><span class="number">1</span><span class="symbol">:bin</span><span class="symbol">:/bin</span><span class="symbol">:/sbin/nologin</span>
...
</code></pre><ul>
<li>HISTSIZE：曾经下达过的命令可以被系统记下来，记录的笔数有这个值来设定。在命令行中输入的每个命令都被保存到一个称为history（命令历史记录）的地方</li>
<li>MAIL：当我们使用mail这个指令在收信时，系统会去读取的邮件信箱档案(<strong>???</strong>)</li>
<li>PATH：执行文件的路径，目录与目录中间以冒号分隔</li>
<li>LANG：语系数据</li>
<li>RANDOM:随机取得数值。在BASH环境下，RANDOM变量的内容介于0~32767之间，<code>echo $random</code>时系统会随机取出一个介于0~32767的数值。用declare宣告数据类型</li>
<li>用set观察所有变量（环境变量、自定义变量）</li>
</ul>
<p>环境变量：所谓环境，就是各项shell下的控制及设备，包括终端机类型，文件搜索路径，用户目录等。用户在shell下执行程序时，有些程序会用到一些环境变量。登录系统时的工作之一就是在用户登录时就将个人的环境建立好。<br>自定义变量：自定义变量除了在每个进程都能调用的环境变量，还可以设置只能在当前进程使用的私有变量。</p>
<pre><code><span class="attribute">PS1</span>:（提示字符的设定）
<span class="string">\d:显示星期</span> 月 日的日期格式。
<span class="string">\H:完整的主机名。</span>
<span class="string">\h:仅取主机名在第一个小数点之前的数据。</span>
<span class="string">\t:显示时间，24小时格式</span>
<span class="string">\T:显示时间，12小时格式</span>
<span class="string">\A:显示时间，24小时格式</span>
<span class="string">\@:显示时间，12小时格式。</span>
<span class="string">\u:目前使用者的账号，如[root]。</span>
<span class="string">\v:BASH的版本信息。</span>
<span class="string">\w:完整的工作目录名称，由根目录写起的目录名称。</span>
<span class="string">\W:利用basename函数取得工作目录名称，仅列出最后一个目录名。</span>
<span class="string">\#:下达的第几个指令。</span>
<span class="string">\$:提示字符</span>
$、？、OATYPE、HOSTTYPE、MACHTYPE：（主机硬件与核心的等级）
</code></pre><p>export:自定义变量转换成环境变量</p>
<h2 id="影响显示结果的语系变量_(locale)_（要回前面章节看看）">影响显示结果的语系变量 (locale) （要回前面章节看看）</h2><h2 id="变量的有效范围">变量的有效范围</h2><p>变量可否被引用与export有关，被export后的变量成为环境变量，环境变量可以被子程序引用，自定义变量内容不会存在于子程序中。当启动一个shell，操作系统会分配一记忆区块给shell使用，此内存内之变量可让子程序取用；若在父程序利用export功能，可以让自定义变量的内容写到上述的记忆区块当中（环境变量）；当加载另一个shell时，子shell可以将父程序的环境变量所在的记忆区块导入自己的环境变量区块当中。</p>
<h2 id="变量键盘读取、数组与宣告：_read,_declare,_array">变量键盘读取、数组与宣告： read, declare, array</h2><pre><code><span class="built_in">read</span> atest 、<span class="built_in">declare</span>或<span class="built_in">typeset</span>：宣告变量的类型
</code></pre><h2 id="与文件系统和程序的限制关系：ulimit">与文件系统和程序的限制关系：ulimit</h2><table>
<thead>
<tr>
<th style="text-align:left">选项</th>
<th style="text-align:left">参数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-H</td>
<td style="text-align:left">Hard limit ,严格的设定，必定不能超过这个设定的数值</td>
</tr>
<tr>
<td style="text-align:left">-S</td>
<td style="text-align:left">Soft limit，警告的设定，可以超过这个设定值，但是若超过则有警告讯息</td>
</tr>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">后面不接任何选项与参数，可列出所有的限制额度</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">当某些程序发生错误时，系统可能会将该程序在内存中的信息写成档案，这种档案为核心档案，此为限制每个核心档案的最大容量</td>
</tr>
<tr>
<td style="text-align:left">-f</td>
<td style="text-align:left">此shell可以建立的最大档案容量</td>
</tr>
<tr>
<td style="text-align:left">-d</td>
<td style="text-align:left">程序可使用的最大断裂内存</td>
</tr>
<tr>
<td style="text-align:left">-l</td>
<td style="text-align:left">可用于锁定的内存量</td>
</tr>
<tr>
<td style="text-align:left">-t</td>
<td style="text-align:left">可使用的最大CPU时间</td>
</tr>
<tr>
<td style="text-align:left">-u</td>
<td style="text-align:left">单一用户可以使用的最大程序数量</td>
</tr>
</tbody>
</table>
<h2 id="变量内容的删除、取代和替换">变量内容的删除、取代和替换</h2><p>删除：</p>
<table>
<thead>
<tr>
<th style="text-align:left">变量设定方式</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">${变量#关键词}</td>
<td style="text-align:left">若变量内容从头开始的数据符合[关键词]，则将符合的最短数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量##关键词}</td>
<td style="text-align:left">若变量内容从头开始的数据符合[关键词]，则将符合的最长数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量%关键词}</td>
<td style="text-align:left">若变量内容从尾开始的数据符合[关键词]，则将符合的最短数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量%%关键词}</td>
<td style="text-align:left">若变量内容从尾开始的数据符合[关键词]，则将符合的最长数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量/旧字符串/新字符串}</td>
<td style="text-align:left">若变量内容符合旧字符串，则第一个旧字符串会被新字符串所取代</td>
</tr>
<tr>
<td style="text-align:left">${变量//旧字符串/新字符串}</td>
<td style="text-align:left">若变量内容符合旧字符串，则全部的旧字符串会被新字符串所取代</td>
</tr>
</tbody>
</table>
<p>测试与内容替换：</p>
<table>
<thead>
<tr>
<th style="text-align:left">变量设定方式</th>
<th style="text-align:left">Str没有设定</th>
<th style="text-align:left">Str为空字符串</th>
<th style="text-align:left">Str已设定为非空字符串</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">var=${str-expr}</td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=$str</td>
</tr>
<tr>
<td style="text-align:left">var=${str:-expr}</td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=$str</td>
</tr>
<tr>
<td style="text-align:left">var=${str+expr}</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=expr</td>
</tr>
<tr>
<td style="text-align:left">var=${str:+expr}</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=expr</td>
</tr>
<tr>
<td style="text-align:left">var=${str=expr}</td>
<td style="text-align:left">str=expr</td>
<td style="text-align:left">str不变</td>
<td style="text-align:left">str不变</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=$str</td>
</tr>
<tr>
<td style="text-align:left">var=${str:=expr}</td>
<td style="text-align:left">str=expr</td>
<td style="text-align:left">str=expr</td>
<td style="text-align:left">str不变</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=expr</td>
<td style="text-align:left">var=$str</td>
</tr>
<tr>
<td style="text-align:left">var=${str?expr}</td>
<td style="text-align:left">expr输出至stderr</td>
<td style="text-align:left">var=</td>
<td style="text-align:left">var=$str</td>
</tr>
<tr>
<td style="text-align:left">var=${str:?expr}</td>
<td style="text-align:left">expr输出至stderr</td>
<td style="text-align:left">expr输出stderr</td>
<td style="text-align:left">var=$str</td>
</tr>
</tbody>
</table>
<h2 id="命令别名设定：_alias,_unalias（取消）">命令别名设定： alias, unalias（取消）</h2><h2 id="历史命令：_history,_HISTSIZE">历史命令： history, HISTSIZE</h2><p>history [n]…………</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">n</td>
<td style="text-align:left">列出最近的n笔命令行表</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">将目前的的shell中的所有history内容全部消除</td>
</tr>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">将目前新增的history指令新增入histfiles中，若没有加histfiles，则预设写入~/.bash_history</td>
</tr>
<tr>
<td style="text-align:left">-r</td>
<td style="text-align:left">讲histfiles的内容读到目前这个shell的history记忆中</td>
</tr>
<tr>
<td style="text-align:left">-w</td>
<td style="text-align:left">将目前的history记忆内容写入histfiles中</td>
</tr>
</tbody>
</table>
<p>在正常的情况下，历史命令的读取与记录是这样的：<br>当我们以bash登入Linux主机之后，系统会主动的由家目录的~/.bash_history读取以前曾经下过的命令，那么~/.bash_history记录的数据与bash的HISTFILESIZE这个变量的设定有关.</p>
<h2 id="路与指令搜寻顺序">路与指令搜寻顺序</h2><ol>
<li>以相对/绝对路径执行指令</li>
<li>由alias找到该指令来执行</li>
<li>由bash内建的builtin指令来执行</li>
<li>透过$PATH这个变量的顺序搜寻到的第一个指令来执行</li>
</ol>
<h2 id="bash_的进站与欢迎讯息：/etc/issue,/etc/motd">bash 的进站与欢迎讯息：/etc/issue,/etc/motd</h2><h2 id="环境配置文件:_login,_non-login_shell,_/etc/profile,_~/-bash_profile,_source,_~/-bashrc_（内容比较繁杂**）">环境配置文件: login, non-login shell, /etc/profile, ~/.bash_profile, source, ~/.bashrc （内容比较繁杂<em>**</em>）</h2><h2 id="终端机的环境设定：_stty,_set">终端机的环境设定： stty, set</h2><p>stty：设定终端机的输入按键代表意义。stty –a</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">eof</td>
<td style="text-align:left">End of life的意思，代表结束输入</td>
</tr>
<tr>
<td style="text-align:left">erase</td>
<td style="text-align:left">向后删除字符</td>
</tr>
<tr>
<td style="text-align:left">intr</td>
<td style="text-align:left">送出一个interrupt的信号给目前正在run的程序</td>
</tr>
<tr>
<td style="text-align:left">kill</td>
<td style="text-align:left">删除在目前指令列上的所有文字</td>
</tr>
<tr>
<td style="text-align:left">quit</td>
<td style="text-align:left">送出一个quit的讯号给目前正在run的程序</td>
</tr>
<tr>
<td style="text-align:left">start</td>
<td style="text-align:left">在某个程序停止后，重新启动他的output</td>
</tr>
<tr>
<td style="text-align:left">stop</td>
<td style="text-align:left">送出一个terminal stop的讯号给正在run的程序</td>
</tr>
<tr>
<td style="text-align:left">susp</td>
</tr>
</tbody>
</table>
<p>Set 设定整个指令输入/输出的环境：set [-uvCHhmBx]</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-u</td>
<td style="text-align:left">预设不启用，若启用后，当使用未设定变量时，会显示错误讯息</td>
</tr>
<tr>
<td style="text-align:left">-v</td>
<td style="text-align:left">预设不启用，若启用后，在讯息被输出之前，会先显示讯息的原始内容</td>
</tr>
<tr>
<td style="text-align:left">-x</td>
<td style="text-align:left">预设不启用，若启用后，在指令被执行前，会显示指令内容</td>
</tr>
<tr>
<td style="text-align:left">-h</td>
<td style="text-align:left">预设启用。与历史命令有关。</td>
</tr>
<tr>
<td style="text-align:left">-H</td>
<td style="text-align:left">预设启用。与历史命令有关。</td>
</tr>
<tr>
<td style="text-align:left">-m</td>
<td style="text-align:left">预设启用。与工作管理有关。</td>
</tr>
<tr>
<td style="text-align:left">-B</td>
<td style="text-align:left">预设启用与括号[]的作用有关</td>
</tr>
<tr>
<td style="text-align:left">-C</td>
<td style="text-align:left">预设不启用。若使用&gt;等，则若档案存在是，该档案不会被覆盖。</td>
</tr>
</tbody>
</table>
<p>Bash默认的组合按键：</p>
<table>
<thead>
<tr>
<th style="text-align:left">组合按键</th>
<th style="text-align:left">执行结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Ctrl+C</td>
<td style="text-align:left">中止目前的命令</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+D</td>
<td style="text-align:left">输入结束eof</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+M</td>
<td style="text-align:left">Enter</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+S</td>
<td style="text-align:left">暂停屏幕的输出</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+Q</td>
<td style="text-align:left">恢复屏幕的输出</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+U</td>
<td style="text-align:left">在提示字符下，将整列命令删除</td>
</tr>
<tr>
<td style="text-align:left">Ctrl+Z</td>
<td style="text-align:left">暂停目前的命令</td>
</tr>
</tbody>
</table>
<h2 id="通配符与特殊符号">通配符与特殊符号</h2><p>通配符：</p>
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">代表0到无穷多个任意字符</td>
</tr>
<tr>
<td style="text-align:left">？</td>
<td style="text-align:left">代表一定有一个任意字</td>
</tr>
<tr>
<td style="text-align:left">[]</td>
<td style="text-align:left">代表一定有一个在括号内的字符</td>
</tr>
<tr>
<td style="text-align:left">[-]</td>
<td style="text-align:left">若有减号在中括号内时，代表在编码顺序内的所有字符</td>
</tr>
<tr>
<td style="text-align:left">[^]</td>
<td style="text-align:left">若中括号内的第一个字符为指数符号……，那表示反向选择</td>
</tr>
</tbody>
</table>
<p>特殊符号：</p>
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">#</td>
<td style="text-align:left">批注符号：最常被使用在script当中，视为说明，在后的数据均不执行</td>
</tr>
<tr>
<td style="text-align:left">\</td>
<td style="text-align:left">跳脱字符，将特殊字符或通配符还原成一般字符</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td>管线：分隔两个管线命令的界定</td>
</tr>
<tr>
<td style="text-align:left">；</td>
<td style="text-align:left">连续指令下达分隔符：连续性命令的界定</td>
</tr>
<tr>
<td style="text-align:left">~</td>
<td style="text-align:left">用户的家目录</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">取用变数前导符：亦即是变量之前需要加的变量取代值</td>
</tr>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">工作控制：降脂灵变成背景下工作</td>
</tr>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">非</td>
</tr>
<tr>
<td style="text-align:left">/</td>
<td style="text-align:left">目录符号：路径分隔的符号</td>
</tr>
<tr>
<td style="text-align:left">&gt;,&gt;&gt;</td>
<td style="text-align:left">数据流重导向：输出导向，分别是取代与累加</td>
</tr>
<tr>
<td style="text-align:left">&lt;,&lt;&lt;</td>
<td style="text-align:left">数据流重导向：输入导向</td>
</tr>
<tr>
<td style="text-align:left">‘’</td>
<td style="text-align:left">单引号，不具有变量置换功能</td>
</tr>
<tr>
<td style="text-align:left">“”</td>
<td style="text-align:left">具有变量置换功能</td>
</tr>
<tr>
<td style="text-align:left">（）</td>
<td style="text-align:left">在中间为子shell的起始与结束</td>
</tr>
<tr>
<td style="text-align:left">{ }</td>
<td style="text-align:left">在中间为命令区块的组合</td>
</tr>
</tbody>
</table>
<h2 id="数据流重导向？">数据流重导向？</h2><p>标准输出：指令执行所回传的正确的讯息，读取/etc/ontab后，将该档案内容显示到屏幕上。</p>
<p>标准错误输出：指令执行失败后，所回传的错误讯息。Cat无法找到指令在屏幕上显示错误讯息。</p>
<p>数据流重导向将standard output 与standard error output 分别传送到其他的档案或装置去，而分别传送所用的特殊字符则如下表示：</p>
<ol>
<li>标准输入（stdin）:使用&lt;或&lt;&lt;</li>
<li>标准输出（stdout）:使用&gt;或&gt;&gt;</li>
<li>标准错误输出（stderr）:使用2&gt;或2&gt;&gt;</li>
</ol>
<h2 id="命令执行的判断依据：；，&amp;&amp;，||">命令执行的判断依据：；，&amp;&amp;，||</h2><table>
<thead>
<tr>
<th style="text-align:left">指令下达情况</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">cmd1&amp;&amp;cmd2</td>
<td style="text-align:left">1. 若cmd1执行完毕且为正确（$？=0），则cmd2执行</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">2. 若cmd1执行完毕且为错误（$？！=0），则cmd2不执行</td>
</tr>
<tr>
<td style="text-align:left">cmd1\</td>
<td style="text-align:left">\</td>
<td>cmd2</td>
<td>1. 若cmd1执行完毕且为正确（$？=0），则cmd2不执行</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">2. 若cmd1执行完毕且为错误（$？！=0），则cmd2执行</td>
</tr>
</tbody>
</table>
<h2 id="管线命令_(pipe)">管线命令 (pipe)</h2><p>管线命令仅会处理standard output，对于standard error output会予以忽略；管线命令必须能够结合搜来自前一个指令的数据成为standard input 继续处理。</p>
<h2 id="攫取命令：_cut,_grep">攫取命令： cut, grep</h2><p>cut –dfc：在一行讯息当中取出我们想要的。</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-d</td>
<td style="text-align:left">后面接分隔字符，与-f一起连用</td>
</tr>
<tr>
<td style="text-align:left">-f</td>
<td style="text-align:left">一句-d的分隔字符讲一段讯息分割成数段，用-f取出第几段</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">以字符的单位取出固定字符区间</td>
</tr>
</tbody>
</table>
<p>grep:分析一行讯息，若当中有我们所需要的信息，就将改行拿出来。</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">将binary档案以text档案的方式搜寻数据</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">计算找到‘搜寻字符串’的次数</td>
</tr>
<tr>
<td style="text-align:left">-i</td>
<td style="text-align:left">忽略大小写的不同，所以大小写视为相同</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">顺便输出行号</td>
</tr>
<tr>
<td style="text-align:left">-v</td>
<td style="text-align:left">反向选择,显示出没有搜索字符串内容的那一行</td>
</tr>
</tbody>
</table>
<h2 id="排序命令：_sort,_uniq,_wc">排序命令： sort, uniq, wc</h2><p>sort</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-f</td>
<td style="text-align:left">忽略大小写的差异</td>
</tr>
<tr>
<td style="text-align:left">-b</td>
<td style="text-align:left">忽略最前面的空格符部分</td>
</tr>
<tr>
<td style="text-align:left">-M</td>
<td style="text-align:left">以月份的名字来排序</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">使用存数字进行排序</td>
</tr>
<tr>
<td style="text-align:left">-r</td>
<td style="text-align:left">反向排序</td>
</tr>
<tr>
<td style="text-align:left">-u</td>
<td style="text-align:left">相同的数据中，仅出现一行代表</td>
</tr>
<tr>
<td style="text-align:left">-t</td>
<td style="text-align:left">分隔符</td>
</tr>
<tr>
<td style="text-align:left">-k</td>
<td style="text-align:left">以那个区间来进行排序的意思</td>
</tr>
</tbody>
</table>
<p>Uniq：将重复的资料仅列出一个</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-i</td>
<td style="text-align:left">忽略大小写字符的不同</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">进行计数</td>
</tr>
</tbody>
</table>
<p>Wc:计算讯息的整体数据，行、字符、字数等；显示登入账号数。</p>
<h2 id="双向重导向：tee">双向重导向：tee</h2><p>tee可以让standard output转存一份档案内并将同样的数据继续送到屏幕去处理。</p>
<h2 id="字符转换命令：_tr,_col,_join,_paste,_expand">字符转换命令： tr, col, join, paste, expand</h2><p>tr可以用来删除一段讯息中的文字，或者是进行文字讯息的替换。tr –ds …</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-d</td>
<td style="text-align:left">删除讯息当中的…这个字符串</td>
</tr>
<tr>
<td style="text-align:left">-s</td>
<td style="text-align:left">取代掉重复的字符</td>
</tr>
</tbody>
</table>
<p>col</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-x</td>
<td style="text-align:left">将tab键转换成对等的空格键</td>
</tr>
<tr>
<td style="text-align:left">-b</td>
<td style="text-align:left">在文字内有反斜杠/时，仅保留反斜杠最后接的那个字符</td>
</tr>
</tbody>
</table>
<p>Join：将有关系的资料放在一起</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-t</td>
<td style="text-align:left">Join默认以空格符分隔数据，并且比对第一个字段的数据，如果两个档案相同，则将两笔数据联成一行，且第一个字段房子啊第一个</td>
</tr>
<tr>
<td style="text-align:left">-i</td>
<td style="text-align:left">忽略大小写的差异</td>
</tr>
<tr>
<td style="text-align:left">-1</td>
<td style="text-align:left">代表第一个档案要用那个字段来分析</td>
</tr>
<tr>
<td style="text-align:left">-2</td>
<td style="text-align:left">代表第二个档案要用那个字段来分析</td>
</tr>
</tbody>
</table>
<p>Paste：直接将两行贴在一起，中间以tab键隔开</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-d</td>
<td style="text-align:left">后面可以接分隔字符，预设是以tab来分隔的</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">如果file部分写成-，表示来自standard input的资料</td>
</tr>
</tbody>
</table>
<p>Expand：将tab键转换成空格键[-t]</p>
<h2 id="分割命令：_split_：将一个大档案依据档案大小或行数来分隔">分割命令： split ：将一个大档案依据档案大小或行数来分隔</h2><table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-b</td>
<td style="text-align:left">后面可接欲分割成的档案大小，可加单位</td>
</tr>
<tr>
<td style="text-align:left">-l</td>
<td style="text-align:left">以行数来进行分割</td>
</tr>
<tr>
<td style="text-align:left">PREFIX</td>
<td style="text-align:left">代表前导符，可作为分割档案的前导文字</td>
</tr>
</tbody>
</table>
<h2 id="参数代换">参数代换</h2><p>xargs：产生某个指令的参数。可以读入stdin的数据，以空格符或断行字符作为分辨，将stdin的资料分割成为arguments。</p>
<table>
<thead>
<tr>
<th style="text-align:left">选项与参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-0</td>
<td style="text-align:left">如果输入的stdin含有特殊字符，可以将它还原成一般字符</td>
</tr>
<tr>
<td style="text-align:left">-e</td>
<td style="text-align:left">Eof的意思，后面可以接一个字符串，当xargs分析到这个字符串时，就会继续工作</td>
</tr>
<tr>
<td style="text-align:left">-p</td>
<td style="text-align:left">在执行每个指令的argument时，都会询问使用者</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">后面接次数，每次command指令执行时，要使用几个参数的意思</td>
</tr>
</tbody>
</table>
<h2 id="关于减号_–_的用途">关于减号 – 的用途</h2><p>替代stdin、stdout</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/28/markdown-problem-answer/" itemprop="url">
                Markdown使用问题及解决办法
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-28T08:57:46+08:00" content="2015-07-28">
            2015-07-28
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/工作记录/" itemprop="url" rel="index"><span itemprop="name">工作记录</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="背景介绍">背景介绍</h2><p>目前来看，我是一位专业的打杂人员，维护网络、文档、共享中心、随时听候大师兄的调遣，这样使得本来很惬意的生活多了点凌乱，少了点自由，多了点忙碌，少了点懒散。更多的时间则集中在了解更多的内容，而不是集中在某一个点上进行学习，这样可能就会产生丢三落四，做这忘那的问题，这就需要有一个很好的计划才行，这些罢笔不提。大概半个月之前，大师兄发现自己N年前做的事情，写了文档，但是现在还有很多同学在重复走大师兄当年的路，自己摸索，自己解决问题，不仅烦躁，苦逼，而且节奏慢，效率低，这才引出维护文档的问题。</p>
<h2 id="为什么采用md格式">为什么采用md格式</h2><p>首先大师兄提出两点要求：</p>
<ol>
<li>有版本更新记录</li>
<li>可以多人维护</li>
</ol>
<p>这不就是git嘛，使用git当然要用文本方式了，再加上心中有个对md的大概了解，所以就提议采用md格式来管理文档，就此开始了md的不归路。</p>
<h2 id="md遇到的问题">md遇到的问题</h2><h3 id="二级列表嵌套问题">二级列表嵌套问题</h3><p>刚刚改写车载台项目文档时遇到，只需要在第一级列表行开头加上一个<code>tab</code>就可以解决问题，示例如下：</p>
<pre><code>-<span class="ruby"> 这是第一级列表第一行
</span>    -<span class="ruby"> 这是第一级列表第二行
</span>    -<span class="ruby"> 这是第二级列表第一行
</span>-<span class="ruby"> 这是第二级列表第二行
</span>-<span class="ruby"> 这是第一级列表第三行</span>
</code></pre><p>显示效果如下：</p>
<ul>
<li>这是第一级列表第一行</li>
<li>这是第一级列表第二行<ul>
<li>这是第二级列表第一行</li>
<li>这是第二级列表第二行</li>
</ul>
</li>
<li>这是第一级列表第三行</li>
</ul>
<h3 id="如何存放图片的问题">如何存放图片的问题</h3><p>虽然md对图片的支持已经很好用，但是和word比，还是不够方便，如果把图片放到git里也不是很容易管理大量的图片，所以这里借鉴了github-pages常用的解决方案，采用七牛云存储来管理图片，每张图片给出一个确定的链接，也方便md文档的转移。</p>
<p>七牛云存储免费用户额度如下：</p>
<ul>
<li>存储空间1GB</li>
<li>每月下载流量1GB</li>
<li>创建1个空间</li>
<li>每月Put请求1万次</li>
<li>每月Get请求10万次</li>
<li>仅支持富媒体上传</li>
</ul>
<p>显然免费用户已经够我们使用，也可能得到固定图片链接地址的优势。</p>
<p>图片引用示例如下：</p>
<p><img src="http://7xkoxp.com1.z0.glb.clouddn.com/virtual-physical-addr-blog/ma.jpg" alt="图片引用示例"></p>
<h3 id="中文段缩进问题">中文段缩进问题</h3><p>由于md是老外的作品，而英文是没有段首缩进这么一说的，所以md也想当然的不支持段首缩进，再者，可能也是因为英文无段首缩进，所以md对空白不敏感，所以这里就需要解决这个问题；</p>
<p>现在有两种方案：</p>
<h4 id="圆角空格代替空格实现段首缩进">圆角空格代替空格实现段首缩进</h4><p>可能是因为圆角空格和空白的ASCII都不一样，这样md并不认为圆角空格是空白，利用这个原理可以很容易的实现段首缩进，示例如下</p>
<p>　　这一段前采用圆角空格实现了段首缩进</p>
<h4 id="插入html标签">插入html标签</h4><p>md是一门标记语言，并不是用来取代html语言，所以它只是为了方便我们的使用而产生的，所以md从出生开始就支持html标签来优化md的显示效果，对于段首缩进问题，我所发现的是采用<code>pre</code>标签来实现，我对html不熟，可能还会有其他标签，有待于指出更新完善。</p>
<p><code>pre</code>标签实现段首缩进示例：</p>
<p><pre>这一段前采用pre标签实现了段首缩进</pre></p>
<h3 id="文章内插入脚注的问题">文章内插入脚注的问题</h3><p>暂时没有解决。（很多markdown版本对脚注有支持，但是markdown基本功能是包含这一项功能的，github pages帮助里也没有提到这一项）</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/">&laquo;</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">&raquo;</a>
  </nav>


            </div>

            

            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="pumpkin" itemprop="image"/>
          <p class="site-author-name" itemprop="name">pumpkin</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">31</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">pumpkin</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  

  



  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>




  
  

  







<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
